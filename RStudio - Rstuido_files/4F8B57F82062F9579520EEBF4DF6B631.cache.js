define("mixins/token_iterator",["require","exports","module"],function(a){var k=a("ace/token_iterator").TokenIterator,i=a("ace/range").Range;(function(){function a(g,b,f,e,c){for(var m=1,d,n=g.clone();d=f.call(n);)if(d=b(d),d===c){if(m--,0===m)return g.moveToTokenIterator(n),!0}else d===e&&m++;return!1}var b={"(":")","{":"}","[":"]","<":">",")":"(","}":"{","]":"[",">":"<"};this.moveToPreviousToken=function(){var g=this.$rowTokens,b=this.$tokenIndex-1;if(0<=b)return this.$tokenIndex--,g[b];var b=this.$session,
f=this.$row;if(0>f)return null;for(;;){f--;if(0>f)return null;if((g=b.getTokens(f))&&g.length)return this.$row=f,this.$tokenIndex=g.length-1,this.$rowTokens=g,g[g.length-1]}};this.moveToNextToken=function(){var g=this.$rowTokens,b=this.$tokenIndex+1;if(b<g.length)return this.$tokenIndex++,g[b];var b=this.$session,f=b.getLength(),e=this.$row;if(e>=f)return null;for(;;){e++;if(e>=f)return null;if((g=b.getTokens(e))&&g.length)return this.$row=e,this.$tokenIndex=0,this.$rowTokens=g,g[0]}};this.moveToStartOfRow=
function(){this.$tokenIndex=0;return this.getCurrentToken()};this.moveToEndOfRow=function(){this.$tokenIndex=this.$rowTokens.length-1;return this.getCurrentToken()};this.moveToStartOfNextRowWithTokens=function(){for(var b=this.$row,a=this.$session,f=a.getLength();;){b++;if(b>=f)return null;var e=a.getTokens(b);if(e&&e.length)return this.$row=b,this.$tokenIndex=0,this.$rowTokens=e,this.getCurrentToken()}};this.tokenizeUpToRow=function(b){for(var a=this.$session.bgTokenizer,f=a.currentLine,b=Math.max(b,
this.$session.getLength()-1),e=f;e<=b;e++)a.$tokenizeRow(e);a.fireUpdateEvent(f,b)};this.moveToPosition=function(b,a){this.tokenizeUpToRow(b.row);var f=this.$session.getTokenAt(b.row,b.column);f&&a&&f.column<b.column&&(f=this.$session.getTokenAt(b.row,b.column+1));if(null==f){if(a)return this.$row=b.row,this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1,this.moveToNextToken();this.$row=b.row+1;this.$tokenIndex=0;this.$rowTokens=this.$session.getTokens(this.$row);
return this.moveToPreviousToken()}this.$row=b.row;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=f.index;return this.getCurrentToken()};this.clone=function(){var b=new k(this.$session,0,0);b.moveToTokenIterator(this);return b};this.moveToTokenIterator=function(b){for(var a in b)b.hasOwnProperty(a)&&(this[a]=b[a])};this.peekFwd=function(b){for(var a=this.clone(),f=null,e=0;e<b;e++)f=a.moveToNextToken();return f};this.peekBwd=function(b){for(var a=this.clone(),f=null,e=0;e<b;e++)f=
a.moveToPreviousToken();return f};this.getCurrentToken=function(){var b=this.$rowTokens[this.$tokenIndex];b&&(b.row=this.$row);return b};this.getCurrentTokenValue=function(){return this.getCurrentToken().value};this.getCurrentTokenPosition=function(){return{row:this.getCurrentTokenRow(),column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var b=this.getCurrentTokenPosition(),a={row:b.row,column:b.column+this.getCurrentToken().value.length};return i.fromPoints(b,a)};this.fwdToMatchingToken=
function(){var g=this.getCurrentToken();return 1===g.value.length&&("{"===g.value||"("===g.value||"["===g.value||"<"===g.value)?a(this,function(b){return b.value},this.moveToNextToken,g.value,b[g.value]):"support.function.codebegin"===g.type?a(this,function(b){return b.type},this.moveToNextToken,"support.function.codebegin","support.function.codeend"):!1};this.bwdToMatchingToken=function(){var g=this.getCurrentToken();return 1===g.value.length&&("}"===g.value||")"===g.value||"]"===g.value||">"===
g.value)?a(this,function(b){return b.value},this.moveToPreviousToken,g.value,b[g.value]):"support.function.codeend"===g.type?a(this,function(b){return b.type},this.moveToPreviousToken,"support.function.codeend","support.function.codebegin"):!1}}).call(k.prototype)});define("mode/auto_brace_insert",["require","exports","module"],function(a,k){var i=a("ace/range").Range,j=a("ace/mode/text").Mode;(function(){this.$complements={"(":")","[":"]",'"':'"',"{":"}"};this.$reOpen=/^[(["{]$/;this.$reClose=/^[)\]"}]$/;this.$reStop=/^[;,\s)\]}]$/;this.wrapInsert=function(b,a,h,f){if(!this.insertMatching)return a.call(b,h,f);var e=b.selection.getCursor();if(e=b.selection.isEmpty()&&h.row==e.row&&h.column==e.column){var c=i.fromPoints(h,{row:h.row,column:h.column+1}),m=b.doc.getTextRange(c);
if(this.$reClose.test(m)&&m==f){b.selection.moveCursorTo(c.end.row,c.end.column,!1);return}}c=null;e&&(c=this.$moveLeft(b.doc,h),c=b.doc.getTextRange(i.fromPoints(c,h)));a=a.call(b,h,f);if(e&&this.$reOpen.test(f)){if(h=i.fromPoints(a,{row:a.row,column:a.column+1}),h=b.doc.getTextRange(h),(this.$reStop.test(h)||0==h.length)&&this.allowAutoInsert(b,a,this.$complements[f]))b.doc.insert(a,this.$complements[f]),b.selection.moveCursorTo(a.row,a.column,!1)}else if(e&&"\n"===f&&(f=this.$moveRight(b.doc,a),
f=b.doc.getTextRange(i.fromPoints(a,f)),"{"===c&&"}"===f||"("===c&&")"===f||"["===c&&"]"===f))h=this.getIndentForOpenBrace?this.getIndentForOpenBrace(this.$moveLeft(b.doc,h)):this.$getIndent(b.doc.getLine(a.row-1)),b.doc.insert(a,"\n"+h),b.selection.moveCursorTo(a.row,a.column,!1);return a};this.allowAutoInsert=function(){return!0};this.smartAllowAutoInsert=function(b,a,h){return"'"!==h&&'"'!==h||0==a.column?!0:(b=this.codeModel.getTokenForPos(a,!1,!0))&&"string"===b.type&&b.column===a.column-1};
this.wrapRemove=function(b,a,h){var f=b.selection.getCursor(),e=b.session.getDocument();if(!this.insertMatching||"left"!=h||!b.selection.isEmpty()||b.$readOnly||0==f.column||e.getLine(f.row).length<=f.column)return a.call(b,h);var c=i.fromPoints(this.$moveLeft(e,f),f),f=i.fromPoints(f,this.$moveRight(e,f)),c=e.getTextRange(c),e=this.$reOpen.test(c)&&this.$complements[c]==e.getTextRange(f);a.call(b,h);e&&a.call(b,"right")};this.$moveLeft=function(b,a){if(0==a.row&&0==a.column)return a;var h=a.row,
f=a.column;f?f--:(h--,f=b.getLine(h).length);return{row:h,column:f}};this.$moveRight=function(b,a){var h=a.row,f=a.column;b.getLine(h).length!=f?f++:(h++,f=0);return h>=b.getLength()?a:{row:h,column:f}}}).call(j.prototype);k.setInsertMatching=function(b){j.prototype.insertMatching=b}});define("mode/background_highlighter",["require","exports","module"],function(a,k){var i=a("ace/range").Range,j=function(b,a,h){this.$session=b;this.$doc=b.getDocument();this.$reChunkStart=a;this.$reChunkEnd=h;var f=function(d){this.$onDocChange(d)}.bind(this);this.$doc.on("change",f);var e=!1,c=function(){e&&(this.$clearMarkers(),this.$doc.off("change",f),this.$session.off("changeMode",c));e=!0}.bind(this);this.$session.on("changeMode",c);this.$rowState=Array(this.$doc.getLength());this.$markers=
[];var b=b.getMarkers(!1),m;for(m in b)a=b[m],a.range&&-1!==a.clazz.indexOf("ace_foreign_line background_highlight")&&"fullLine"==a.type&&(this.$markers[a.range.start.row]=m);this.$synchronize(0)};(function(){this.$synchronize=function(b){this.$update(b);this.$syncMarkers(b)};this.$update=function(b){for(;0<b&&null==this.$rowState[b-1];)b--;for(var a=this.$doc.getLength();b<a;b++){var h=this.$rowState[b],f=this.$getState(b);if(h===f)break;this.$rowState[b]=f}};this.$getState=function(b){var a=this.$doc.getLine(b),
b=this.$rowState[b-1]||1;if(1===b||4===b){if(this.$reChunkStart.test(a))return 2}else if(2===b||3===b)return this.$reChunkEnd.test(a)?4:3;return 1};this.$insertNewRows=function(b,a){var h=Array(a+2);h[0]=b;h[1]=0;Array.prototype.splice.apply(this.$rowState,h)};this.$removeRows=function(b,a){this.$rowState.splice(b,a)};this.$clearMarkers=function(){for(var b=0;b<this.$markers.length;b++)this.$session.removeMarker(this.$markers[b]);this.$markers=[]};this.$syncMarkers=function(b){for(var a=this.$doc.getLength()-
1;b<=a;b++){var h=this.$rowState[b],f=1!==h;this.$markers[b]&&(this.$session.removeMarker(this.$markers[b]),this.$markers[b]=null);f&&(h=2===h?"ace_foreign_line background_highlight rstudio_chunk_start":"ace_foreign_line background_highlight",this.$markers[b]=this.$session.addMarker(new i(b,0,b,Infinity),h,"fullLine",!1))}};this.$onDocChange=function(b){var b=b.data,a=b.action,h=b.range;"insertLines"===a?(this.$rowState[h.start.row]=void 0,this.$insertNewRows(h.start.row,h.end.row-h.start.row)):"insertText"===
a&&this.$doc.isNewLine(b.text)?(this.$rowState[h.start.row]=void 0,this.$insertNewRows(h.end.row,1)):"removeLines"===a?(this.$rowState[h.start.row]=void 0,this.$removeRows(h.start.row,h.end.row-h.start.row)):"removeText"===a&&this.$doc.isNewLine(b.text)&&(this.$rowState[h.start.row]=void 0,this.$removeRows(h.end.row,1));this.$synchronize(h.start.row)}}).call(j.prototype);k.BackgroundHighlighter=j});define("mode/c_cpp",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("ace/range").Range;a("mode/r_highlight_rules");var h=a("mode/c_cpp_highlight_rules").c_cppHighlightRules,f=a("mode/c_cpp_matching_brace_outdent").CppMatchingBraceOutdent,e=a("mode/behaviour/cstyle").CStyleBehaviour,c=null;window.NodeWebkit||(c=a("mode/c_cpp_fold_mode").FoldMode);var m=a("mode/background_highlighter").BackgroundHighlighter,d=a("mode/r_code_model").RCodeModel,
n=a("mode/r_matching_brace_outdent").RMatchingBraceOutdent,l=a("mode/cpp_code_model").CppCodeModel;a("mode/token_cursor");var o=a("mode/utils"),t=function(a,o){this.$session=o;this.$doc=o.getDocument();this.$tokenizer=new b((new h).getRules());this.r_codeModel=new d(o,this.$tokenizer,/^r-/,/^\s*\/\*{3,}\s*([Rr])\s*$/,/^\s*\*+\//);this.$r_outdent=new n(this.r_codeModel);this.codeModel=new l(o,this.$tokenizer);this.$behaviour=new e(this.codeModel);this.$cpp_outdent=new f(this.codeModel);this.$sweaveBackgroundHighlighter=
new m(o,/^\s*\/\*{3,}\s*[Rr]\s*$/,/^\s*\*\//);window.NodeWebkit||(this.foldingRules=new c);this.$tokens=this.codeModel.$tokens;this.getLineSansComments=this.codeModel.getLineSansComments};i.inherits(t,j);(function(){this.wrapInsert=function(d,c,e,f){return this.cursorInRLanguageMode()?j.prototype.wrapInsert(d,c,e,f):c.call(d,e,f)};this.wrapRemove=function(d,c,e){return this.cursorInRLanguageMode()?j.prototype.wrapRemove(d,c,e):c.call(d,e)};this.insertChunkInfo={value:"/*** R\n\n*/\n",position:{row:1,
column:0}};this.toggleCommentLines=function(d,c,e,f){for(var a=!0,d=/^(\s*)\/\//,b=e;b<=f;b++)if(!d.test(c.getLine(b))){a=!1;break}if(a){a=new g(0,0,0,0);for(b=e;b<=f;b++)e=c.getLine(b).match(d),a.start.row=b,a.end.row=b,a.end.column=e[0].length,c.replace(a,e[1])}else c.indentRows(e,f,"//")};this.getLanguageMode=function(d){return o.getPrimaryState(this.$session,d.row).match(/^r-/)?"R":"C_CPP"};this.cursorInRLanguageMode=function(){return"R"===this.getLanguageMode(this.$session.getSelection().getCursor())};
this.inRLanguageMode=function(d){return d.match(/^r-/)};this.getNextLineIndent=function(d,c,e,f,a){d=o.primaryState(d);return this.inRLanguageMode(d)?this.r_codeModel.getNextLineIndent(d,c,e,f):this.codeModel.getNextLineIndent(d,c,e,f,a)};this.checkOutdent=function(d,c,e){return this.inRLanguageMode(d)?this.$r_outdent.checkOutdent(d,c,e):this.$cpp_outdent.checkOutdent(d,c,e)};this.autoOutdent=function(d,c,e){return this.inRLanguageMode(d)?this.$r_outdent.autoOutdent(d,c,e,this.r_codeModel):this.$cpp_outdent.autoOutdent(d,
c,e)};this.$transformAction=this.transformAction;this.transformAction=function(d,c,e,f,a){d=o.primaryState(d);if(!this.inRLanguageMode(d))return this.$transformAction(d,c,e,f,a)};this.$id="mode/c_cpp"}).call(t.prototype);k.Mode=t});define("mode/c_cpp_fold_mode",["require","exports","module"],function(a,k){var i=a("ace/lib/oop");a("ace/range");var j=a("ace/mode/folding/fold_mode").FoldMode,b=k.FoldMode=function(){};i.inherits(b,j);(function(){this.embeddedRComment=/^\s*\/\*{3,}\s+[Rr]\s*$/;this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/;this.getFoldWidget=function(a,b,f){a=a.getLine(f);return this.foldingStartMarker.test(a)&&!this.embeddedRComment.test(a)?"start":
"markbeginend"==b&&this.foldingStopMarker&&this.foldingStopMarker.test(a)?"end":""};this.getFoldWidgetRange=function(a,b,f){var e=a.getLine(f),c=e.match(this.foldingStartMarker);if(c)return b=c.index,c[1]?this.openingBracketBlock(a,c[1],f,b):a.getCommentFoldRange(f,b+c[0].length,1);if("markbeginend"===b&&(c=e.match(this.foldingStopMarker)))return b=c.index+c[0].length,c[1]?this.closingBracketBlock(a,c[1],f,b):a.getCommentFoldRange(f,b,-1)}}).call(b.prototype)});define("mode/c_cpp_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/lib/lang"),b=a("mode/doc_comment_highlight_rules").DocCommentHighlightRules,g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=a("mode/tex_highlight_rules").TexHighlightRules,f=a("mode/r_highlight_rules").RHighlightRules,e=function(){function c(d){return d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var e=j.arrayToMap("alignas,alignof,and,and_eq,asm,auto,bitand,bitor,bool,break,case,catch,char,char16_t,char32_t,class,compl,const,constexpr,const_cast,continue,decltype,default,delete,do,double,dynamic_cast,else,enum,explicit,export,extern,false,float,for,friend,goto,if,inline,int,in,long,mutable,namespace,new,noexcept,not,not_eq,nullptr,or,or_eq,private,protected,public,register,reinterpret_cast,return,short,signed,sizeof,static,static_assert,static_cast,struct,switch,template,this,thread_local,throw,true,try,typedef,typeid,typeof,typename,union,unsigned,using,virtual,void,volatile,wchar_t,while,xor,xor_eq".split(",")),
d=j.arrayToMap(["NULL"]),a=">>=,<<=,new,delete,<<,>>,&&,||,==,!=,<=,>=,::,*=,+=,-=,/=,++,--,<>,&=,^=,%=,->,!,$,&,|,*,-,+,~,=".split(","),l=a.map(function(d){return c(d)}).join("|"),a="< > , () [] ->* ->".split(" ").concat(a).map(function(d){return c(d)}),a=["new\\s*\\[\\]","delete\\s*\\[\\]"].concat(a),a="operator\\s*(?:"+a.join("|")+")|operator\\s+[\\w_]+";this.$rules={start:[{token:"comment.doc.tag",regex:"\\/\\/\\s*\\[\\[.*\\]\\].*$"},{token:"comment",regex:"\\/\\/'",next:"rd-start"},{token:"comment",
regex:"\\/\\/.*$"},b.getStartRule("doc-start"),{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",merge:!0,regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",merge:!0,regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"0[bB][01']+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(?:(?:[fF])|(?:(?:[uU]?(?:(?:l?l?)|(?:L?L?))?)|(?:(?:(?:l?l?)|(?:L?L?))[uU]?))|(?:_\\w+))?\\b"},
{token:"keyword.preproc",regex:"#\\s*include\\b",next:"include"},{token:"keyword.preproc",regex:"(?:"+"include,pragma,line,define,undef,ifdef,ifndef,if,else,elif,endif,warning,error".split(",").map(function(d){return"#\\s*"+d+"\\b"}).join("|")+")"},{token:"variable.language",regex:"\\b__\\S+__\\b"},{token:"keyword",regex:a},{token:function(c){return"this"==c?"variable.language":e.hasOwnProperty(c)?"keyword":d.hasOwnProperty(c)?"constant.language":"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},
{token:"keyword.operator",merge:!1,regex:l},{token:"keyword.punctuation.operator",merge:!1,regex:"\\?|\\:|\\,|\\;|\\.|\\\\"},{token:"paren.keyword.operator",merge:!1,regex:"[[({<]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}>]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",merge:!0,regex:".+"}],qstring:[{token:"string",
regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",merge:!0,regex:".+"}],include:[{token:"string",regex:/<.+>/,next:"start"},{token:"string",regex:/\".+\"/,next:"start"}]};l=(new h("comment")).getRules();for(a=0;a<l.start.length;a++)l.start[a].token+=".virtual-comment";this.addRules(l,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",
regex:"@@"});this.$rules["rd-start"].push({token:"comment",regex:"[^%\\\\[({\\])}]+"});this.embedRules(b,"doc-",[b.getEndRule("start")]);this.$rules.start.unshift({token:"support.function.codebegin",regex:"^\\s*\\/\\*{3,}\\s*[Rr]\\s*$",next:"r-start"});this.addRules((new f).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",regex:"\\*\\/",next:"start"})};i.inherits(e,g);k.c_cppHighlightRules=e});define("mode/c_cpp_matching_brace_outdent",["require","exports","module"],function(a,k){var i=a("ace/range").Range,j=a("mode/token_cursor").CppTokenCursor,b=function(d){this.codeModel=d},g=a("mode/utils"),h=!0,f=!0,e=!0,c=!0,m=!0,d=!0,n=!0,l=!0,o=!0,t=!0,y=!0,E=!0;(function(){this.setIndent=function(d,c,e,a,f){var d=d.getDocument(),a="string"===typeof a?a:"",b=d.$lines[e],e=this.$getIndent(d.$lines[c]),b=this.$getIndent(b);("function"!==typeof f||f(e,b))&&d.replace(new i(c,0,c,e.length),b+a)};this.checkOutdent=
function(d,c,e){return g.endsWith(d,"start")&&(":"===e||/^\s*[#\{\}\>\]\)<.:]/.test(e)||"="===e)?!0:g.endsWith(d,"comment")&&"/"==e?!0:!1};this.escapeRegExp=function(d){return d.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};this.alignStartToken=function(d,c,e,a,f){if(null===f||null===a)return!1;return RegExp("^\\s*"+this.escapeRegExp(d)).test(a)&&(d=f.indexOf(d),0<=d)?(c=c.getDocument(),a=this.$getIndent(a),d=Array(d+1).join(" "),c.replace(new i(e,0,e,a.length),d),!0):!1};this.alignEquals=
function(d,c,e,a){if(null===a||null===e)return!1;var f=e.indexOf("=");if(f!==e.lastIndexOf("="))return!1;var b=a.indexOf("=");if(-1!==f&&-1!==b&&/,\s*$/.test(a)){d=d.getDocument();e=this.$getIndent(e);if(e.length>=b)return!1;f=b-f;if(0>=f)return!1;f=Array(e.length+f+1).join(" ");d.replace(new i(c,0,c,e.length),f);return!0}return!1};this.autoOutdent=function(a,b,l){var a=b.doc,g=a.getLine(l),u=null;0<l&&(u=a.getLine(l-1));this.$getIndent(g);if(!(t&&this.alignStartToken("<<",b,l,g,u)||o&&this.alignStartToken(">>",
b,l,g,u)))if(!n||!this.alignStartToken(".",b,l,g,u)){if(h&&/^\s*:/.test(a.getLine(l))&&!/^\s*::/.test(a.getLine(l))&&this.codeModel.$tokenUtils.$tokenizeUpToRow(l)){var k=new j(this.codeModel.$tokens,l,0),q=-1,A=k.cloneCursor();if(")"===A.peekBwd().currentValue()||"keyword"===A.peekBwd().currentType()){do{var k=A.currentType(),X=A.currentValue();if("identifier"===k||";"===X){q=A.$row;break}"keyword"!==k&&A.bwdToMatchingToken()}while(A.moveToPreviousToken())}else k.moveToPreviousToken(),k.bwdOverClassySpecifiers()&&
(q=k.$row);0<=q&&this.setIndent(b,l,q,b.getTabString(),function(d,e){return d===e})}if(d&&/^\s*>/.test(g)&&!/^\s*>>/.test(g)&&(q=this.codeModel.getRowForMatchingEOLArrows(b,a,l),0<=q)){this.setIndent(b,l,q);return}if(c&&/^\s*\}/.test(g)&&(q=b.findMatchingBracket({row:l,column:g.indexOf("}")+1}),null!==q)){if(/^\s*\{/.test(a.$lines[q.row])){this.setIndent(b,l,q.row);return}q=this.codeModel.getRowForOpenBraceIndent(b,q.row);if(0<=q){this.setIndent(b,l,q);return}}if(f&&/^\s*\)/.exec(g)&&(q=b.findMatchingBracket({row:l,
column:g.indexOf(")")+1}))){this.setIndent(b,l,q.row);return}if(m&&/^\s*\]/.exec(g)&&(q=b.findMatchingBracket({row:l,column:g.indexOf("]")+1}))){this.setIndent(b,l,q.row);return}if(y&&/^\s*public\s*:\s*$|^\s*private\s*:\s*$|^\s*protected\s*:\s*$/.test(g)&&(A=b.$findOpeningBracket("}",{row:l,column:g.length},RegExp(/paren\.keyword\.operator/)))){q=this.codeModel.getRowForOpenBraceIndent(b,A.row);0<=q?this.setIndent(b,l,q):this.setIndent(b,l,A.row);return}if(E&&(/^\s*case.+:/.test(g)||/^\s*default\s*:/.test(g)))if(A=
b.$findOpeningBracket("}",{row:l,column:/(\S)/.exec(g).index+1})){q=this.codeModel.getRowForOpenBraceIndent(b,A.row);0<=q?this.setIndent(b,l,q):this.setIndent(b,l,A.row);return}if(e&&/^\s*\{/.test(g)&&!/;\s*$/.test(u)){if(this.codeModel.$tokenUtils.$tokenizeUpToRow(l)&&(k=new j(this.codeModel.$tokens),k.$row=l,k.$offset=0,k.moveToPreviousToken()&&"="===k.currentValue()))return;u=this.codeModel.getRowForOpenBraceIndent(b,l);if(0<=u){this.setIndent(b,l,u);return}}/^\s*#/.test(g)&&(b=this.$getIndent(g),
a.replace(new i(l,0,l,b.length),""))}};this.$getIndent=function(d){return(d=d.match(/^(\s+)/))?d[1]:""}}).call(b.prototype);k.CppMatchingBraceOutdent=b;k.getOutdentColon=function(){return h};k.setOutdentColon=function(d){h=d};k.getOutdentRightParen=function(){return f};k.setOutdentRightParen=function(d){f=d};k.getOutdentLeftBrace=function(){return e};k.setOutdentLeftBrace=function(d){e=d};k.getOutdentRightBrace=function(){return c};k.setOutdentRightBrace=function(d){c=d};k.getOutdentRightBracket=
function(){return m};k.setOutdentRightBracket=function(d){m=d};k.getOutdentRightArrow=function(){return d};k.setOutdentRightArrow=function(e){d=e};k.getAlignDots=function(){return n};k.setAlignDots=function(d){n=d};k.getAlignEquals=function(){return l};k.setAlignEquals=function(d){l=d};k.getAlignStreamIn=function(){return o};k.setAlignStreamIn=function(d){o=d};k.getAlignStreamOut=function(){return t};k.setAlignStreamOut=function(d){t=d};k.getAlignClassAccessModifiers=function(){return y};k.setAlignClassAccessModifiers=
function(d){y=d};k.getAlignCase=function(){return E};k.setAlignCase=function(d){E=d}});define("mode/behaviour/cstyle",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/behaviour").Behaviour;a("mode/cpp_code_model");a("mode/token_cursor");a("ace/mode/text");var b=a("mode/utils"),g=!0,h=function(a){var e=a.$complements,c=function(d,c,a,b){var f=e[d];if(c==d)return c=a.getSelectionRange(),b=b.doc.getTextRange(c),""!==b?{text:d+b+f,selection:!1}:{text:d+f,selection:[1,1]};if(c==f&&(d=a.getCursorPosition(),b.doc.getLine(d.row)[d.column]==f&&null!==b.findMatchingBracket({row:d.row,
column:d.column+1})))return{text:"",selection:[1,1]}},m=function(d,c,a){var b=e[d],f=a.doc.getTextRange(c);if(!c.isMultiLine()&&f==d&&a.doc.getLine(c.start.row).substring(c.start.column+1,c.start.column+2)==b)return c.end.column++,c};this.add("R","insertion",function(d,c,e,a,b){if("R"===b||"r"===b)if(d=e.getCursorPosition(),a=(new String(a.doc.getLine(d.row))).match(/^(\s*)\/\*{3,}\s*/))return{text:"R\n"+a[1]+"\n"+a[1]+"*/",selection:[1,a[1].length,1,a[1].length]}});this.add("newline","insertion",
function(d,c,e,o,m){if("\n"===m){var m=e.selection.getCursor().row,h=e.selection.getCursor().column,c=o.getTabString(),g=e.getCursorPosition(),e=o.doc.getLine(g.row);if(!this.codeModel.inMacro(o.getDocument().$lines,m-1)){var j=/^(\s*\/\/'\s*)/.exec(e);if(j&&h>=j[1].length)return{text:"\n"+j[1]};if(b.endsWith(d,"comment")||b.endsWith(d,"doc-start"))if(g&&g.row==m&&(e=e.substring(0,g.column)),d=/^(\s*\*+\s*)/.exec(e))return{text:"\n"+d[1],selection:[1,d[1].length,1,d[1].length]};if(/^\s*\/\*/.test(e)&&
-1===e.indexOf("*/"))return o=this.$getIndent(e),c=o+" * ",{text:"\n"+c+"\n"+o+" */",selection:[1,c.length,1,c.length]};for(d=h-1;/\s/.test(e[d]);)--d;d=e[d];h=e[h];if(j=e.match(/\s*namespace\s*\w*\s*{/))return o=this.$getIndent(e),{text:"\n"+o,selection:[1,o.length,1,o.length]};if("("==d&&")"==h||"["==d&&"]"==h)return m=this.$getIndent(e),o=m+c,{text:"\n"+o+"\n"+m,selection:[1,o.length,1,o.length]};if("{"==d&&"}"==h){if(/^\s*{/.test(e))return m=this.$getIndent(e),o=m+o.getTabString(),{text:"\n"+
o+"\n"+m,selection:[1,o.length,1,o.length]};m=a.getRowForOpenBraceIndent(o,m);if(null!==m&&0<=m)return m=this.$getIndent(o.getDocument().getLine(m)),o=m+o.getTabString(),{text:"\n"+o+"\n"+m,selection:[1,o.length,1,o.length]};m=this.$getIndent(e);o=m+c;return{text:"\n"+o+"\n"+m,selection:[1,o.length,1,o.length]}}}}});this.add("braces","insertion",function(d,e,a,b,f){if(this.insertMatching){if("{"==f&&(d=a.getSelectionRange(),""===b.doc.getTextRange(d))){d=this.codeModel.getTokenCursor();if(!d.moveToPosition(a.getCursorPosition()))return c("{",
f,a,b);do if(!d.bwdToMatchingArrow()){e=d.currentValue();if(!e||!e.length)break;if("namespace"===e)return{text:"{",selection:[1,1]};if("class"===e||"struct"===e||"="===e)return{text:"{};",selection:[1,1]};if(g&&"do"===e)return{text:"{} while ();",selection:[1,1]};if(";"===e||"["===e||"]"===e||"("===e||")"===e||"{"===e||"}"===e||"if"===e||"else"===e||"#"===e[0])return{text:"{}",selection:[1,1]}}while(d.moveToPreviousToken())}return c("{",f,a,b)}});this.add("braces","deletion",function(d,e,c,a,b){if(this.insertMatching&&
(d=a.doc.getTextRange(b),!b.isMultiLine()&&"{"==d)){d=a.doc.getLine(b.start.row);if(/^\s*do\s*\{\} while \(\);\s*$/.test(d))return b.end.column=d.length,b;a=d.substring(b.end.column,b.end.column+1);d=d.substring(b.end.column+1,b.end.column+2);if("}"==a)return b.end.column++,";"==d&&b.end.column++,b}});this.add("parens","insertion",function(d,e,a,b,f){return!this.insertMatching?void 0:c("(",f,a,b)});this.add("parens","deletion",function(d,e,a,c,b){return!this.insertMatching?void 0:m("(",b,c)});this.add("brackets",
"insertion",function(d,e,a,b,f){return!this.insertMatching?void 0:c("[",f,a,b)});this.add("brackets","deletion",function(d,e,a,c,b){return!this.insertMatching?void 0:m("[",b,c)});this.add("string_dquotes","insertion",function(d,e,a,c,b){if(this.insertMatching&&('"'==b||"'"==b)){d=a.getSelectionRange();e=c.doc.getTextRange(d);if(""!==e)return{text:b+e+b,selection:!1};a=a.getCursorPosition();e=c.doc.getLine(a.row);if("\\"==e.substring(a.column-1,a.column))return null;for(var c=c.getTokens(d.start.row),
f=0,m,h=-1,g=0;g<c.length;g++){m=c[g];"string"==m.type?h=-1:0>h&&(h=m.value.indexOf(b));if(m.value.length+f>d.start.column)break;f+=c[g].value.length}if(!m||0>h&&"comment"!==m.type&&("string"!==m.type||d.start.column!==m.value.length+f-1&&m.value.lastIndexOf(b)===m.value.length-1))return{text:b+b,selection:[1,1]};if(m&&"string"===m.type&&e.substring(a.column,a.column+1)==b)return{text:"",selection:[1,1]}}});this.add("string_dquotes","deletion",function(d,e,a,c,b){if(this.insertMatching&&(d=c.doc.getTextRange(b),
!b.isMultiLine()&&('"'==d||"'"==d)))if(c=c.doc.getLine(b.start.row).substring(b.start.column+1,b.start.column+2),'"'===c||"'"===c)return b.end.column++,b});this.add("punctuation.operator","insertion",function(d,e,b,c,a){if(this.insertMatching&&";"===a&&(d=b.selection.getCursor(),";"==c.getLine(d.row)[d.column]))return{text:"",selection:[1,1]}});this.add("macro","insertion",function(d,e,b,c,a){var e=b.getPrintMarginColumn(),e=Math.min(62,e),f=c.getDocument().$lines,m=b.getCursorPosition(),h=m.row,
g=f[h],b=g.substring(0,m.column);if(/^\s*#\s*define[^\\]*$/.test(g)&&"\\"==a)return d=e-b.length+1,0<=d?{text:Array(d+1).join(" ")+"\\\n"+this.$getIndent(g)+c.getTabString(),selection:!1}:{text:"\\\n"+c.getTabString(),selection:!1};if(/^\s*#\s*define/.test(g)||this.codeModel.inMacro(f,h-1)){if("\\"==a&&/^\s*$/.test(g.substring(b.length,g.length)))return d=e-b.length+1,0<=d?{text:Array(d+1).join(" ")+"\\",selection:!1}:{text:"\\",selection:!1};if("\n"==a){if(/^\s*$/.test(g)||/^\s*#\s*define/.test(g)&&
!/\\\s*$/.test(g))return{text:"\n",selection:!1};if(/\\\s*$/.test(g)&&!/\\\s*$/.test(b))return{text:"",selection:[1,m.column,1,m.column]};c=c.getMode().getNextLineIndent(d,g+"\\",c.getTabString(),h,!1);d=e-b.length+1;a=/\\\s*$/.test(b)?"":"\\";return 0<=d?{text:Array(d+1).join(" ")+a+"\n"+c,selection:!1}:{text:a+"\n"+c,selection:!1}}}})};i.inherits(h,j);k.CStyleBehaviour=h;k.setFillinDoWhile=function(b){g=b};k.getFillinDoWhile=function(){return g}});define("mode/cpp_code_model",["require","exports","module"],function(a,k){a("ace/lib/oop");var i=a("ace/range").Range,j=a("mode/token_utils").TokenUtils;a("ace/token_iterator");var b=a("mode/token_cursor").CppTokenCursor,g=a("mode/cpp_scope_tree").CppScopeNode,h=a("mode/cpp_scope_tree").CppScopeManager,f=a("mode/r_code_model").getVerticallyAlignFunctionArgs,e=a("mode/utils"),c=function(e,d,b,c,a){this.$session=e;this.$doc=e.getDocument();this.$tokenizer=d;this.$tokens=Array(this.$doc.getLength());
this.$statePattern=b;this.$codeBeginPattern=c;this.$codeEndPattern=a;this.$tokenUtils=new j(this.$doc,this.$tokenizer,this.$tokens,this.$statePattern,this.$codeBeginPattern);this.$scopes=new h(g);var f=!0,i=function(){f?f=!1:(this.$doc.off("change",k),this.$session.off("changeMode",i))}.bind(this),k=function(e){this.$onDocChange(e)}.bind(this);this.$session.on("changeMode",i);this.$doc.on("change",k)};(function(){var c=e.contains;this.getTokenCursor=function(){return new b(this.$tokens,0,0,this)};
this.$tokenizeUpToRow=function(e){this.$tokenUtils.$tokenizeUpToRow(e)};var d=function(e,d){for(;;){var b=e.currentValue(),a=d.$doc.getLine(e.$row);if(c(["{","}",";"],b))break;if(":"===b&&(b=e.peekBwd().currentValue(),c(["public","private","protected"],b)))break;if(/^\s*#/.test(a))break;if(!e.moveToPreviousToken())break}},a="if,else,for,do,while,struct,class,try,catch,switch".split(","),l=function(e){e=e.trim();return e=e.replace(/[\n\s]+/g," ")},o=function(e,d){var b=l(e),c=d;"undefined"===typeof c&&
(c=80);b.length>c&&(b=b.substring(0,c)+"...");return b};this.$complements={"<":">",">":"<","{":"}","}":"{","[":"]","]":"[","(":")",")":"(","'":"'",'"':'"'};this.alignContinuationSlashes=function(e,d){"undefined"===typeof d&&(d={start:0,end:e.getLength()});var b=e.$lines;if(!(b instanceof Array))return!1;for(var c=d.start;c<d.end;c++)if(g.test(b[c])){for(var a=c,c=c+1;g.test(b[c])&&c<=d.end;)c++;for(var f=c,m=b.slice(a,f).map(function(e){return e.lastIndexOf("\\")}),l=Math.max.apply(null,m),h=0;h<
f-a;h++){var o={row:a+h,column:m[h]},n=Array(l-m[h]+1).join(" ");e.insert(o,n)}}return!0};this.allIndicesOf=function(e,d){for(var c=[],b=0;b<e.length;b++)e[b]==d&&c.push(b);return c};this.getRowForMatchingEOLArrows=function(e,d,c){for(var e=0,b="",a=1;100>a;a++){b=this.getLineSansComments(d,c-a);if(/;\s*$/.test(b))break;if(/<\s*$/.test(b)&&!/<<\s*$/.test(b)){if(0===e)return c-a;e--}else/^\s*>/.test(b)&&!/^\s*>>/.test(b)&&e++}return-1};var h=/^\s*#\s*define/,g=/\\\s*$/,j=/^\s*[+\-/&^%$!<\>.?|=~]|^\s*\*[^/]|^\s*\/[^\*]/,
k=/[+\-*&^%$!<\>.?|=~]\s*$|\*[^/]\s*$|\/[^\*]\s*$/;this.inMacro=function(e,b){var c=e[b];return 0>b?!1:g.test(c)?h.test(c)?!0:this.inMacro(e,b-1):!1};this.$buildScopeTreeUpToRow=function(e){e=Math.min(e+30,this.$doc.getLength()-1);this.$tokenUtils.$tokenizeUpToRow(e);var b=this.getTokenCursor();if(b.seekToNearestToken(this.$scopes.parsePos,e)){do{this.$scopes.parsePos=b.currentPosition();this.$scopes.parsePos.column+=b.currentValue().length;var c=b.currentToken().type;if(/\bsectionhead\b/.test(c))c=
""+/^\/\/'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(b.currentValue())[1],0==c.length&&(c="(Untitled)"),50<c.length&&(c=c.substring(0,50)+"..."),this.$scopes.onSectionHead(c,b.currentPosition());else if(/\bcodebegin\b/.test(c)){var c=b.currentPosition(),a={row:c.row+1,column:0};this.$scopes.getTopLevelScopeCount();this.$scopes.onChunkStart("(R Code Chunk)","(R Code Chunk)",c,a)}else if(/\bcodeend\b/.test(c)){for(c=b.currentPosition();this.$scopes.onScopeEnd(c););c.column+=b.currentValue().length;this.$scopes.onChunkEnd(c)}else if("{"===
b.currentValue())if(c=b.cloneCursor(),a=c.currentPosition(),c.isFirstSignificantTokenOnLine()&&(a.column=0),"namespace"===c.peekBwd(2).currentValue())c.moveToPreviousToken(),a=c.currentValue(),this.$scopes.onNamespaceScopeStart("namespace "+a,c.currentPosition(),b.currentPosition(),a);else if("namespace"===c.peekBwd().currentValue())this.$scopes.onNamespaceScopeStart("anonymous namespace",a,b.currentPosition(),"<anonymous>");else if("class"===c.peekBwd(2).currentValue()||"struct"===c.peekBwd(2).currentValue()||
c.bwdOverClassInheritance()){c.moveToPreviousToken();var f=c.cloneCursor();d(f,this);f=f.peekFwd().currentPosition();a=this.$session.getTextRange(new i(f.row,f.column,a.row,a.column));a=l(a);this.$scopes.onClassScopeStart(a,c.currentPosition(),b.currentPosition(),a)}else if(c.bwdOverConstNoexceptDecltype()&&c.bwdOverInitializationList()&&c.moveBackwardOverMatchingParens()||c.moveBackwardOverMatchingParens())if("identifier"===c.peekBwd().currentType()||"]"===c.peekBwd().currentValue()||/^operator/.test(c.peekBwd().currentValue()))if("]"===
c.peekBwd().currentValue())c=c.currentPosition(),c=this.$session.getTextRange(new i(c.row,c.column,a.row,a.column-1)),c=l("lambda "+c),this.$scopes.onLambdaScopeStart(c,a,b.currentPosition());else{if(c.moveToPreviousToken()){var q="",a=c.currentValue(),f="",m=this.$scopes.getActiveScopes(c.currentPosition());null!=m&&(m=m[m.length-1],m.isClass()&&m.label==="class "+a?"~"===c.peekBwd().currentValue()&&(a="~"+a):(q=c.cloneCursor(),d(q,this),q.moveToNextToken(),q=q.currentPosition(),m=c.currentPosition(),
q=this.$session.getTextRange(new i(q.row,q.column,m.row,m.column))));var h=c.peekFwd(),m=h.currentPosition();h.fwdToMatchingToken()&&("const"===h.peekFwd().currentValue()&&h.moveToNextToken(),"noexcept"===h.peekFwd().currentValue()&&h.moveToNextToken(),"noexcept"===h.currentValue()&&"("===h.peekFwd().currentValue()&&(h.moveToNextToken(),h.fwdToMatchingToken()),(h=h.peekFwd().currentPosition())&&(f=this.$session.getTextRange(new i(m.row,m.column,h.row,h.column))));this.$scopes.onFunctionScopeStart(0<
q.length?o(a.trim()+f.trim()+": "+q.trim()):o(a.trim()+f.trim()),c.currentPosition(),b.currentPosition(),a.trim(),f.split(","))}}else this.$scopes.onScopeStart(a);else this.$scopes.onScopeStart(a);else"}"===b.currentValue()&&(c=b.currentPosition(),b.isLastSignificantTokenOnLine()?c.column=this.$doc.getLine(c.row).length+1:c.column++,this.$scopes.onScopeEnd(c))}while(b.moveToNextToken(e))}};this.getCurrentScope=function(c,e){e||(e=function(){return!0});if(!c)return"";this.$buildScopeTreeUpToRow(c.row);
var b=this.$scopes.getActiveScopes(c);if(b)for(var a=b.length-1;0<=a;a--)if(e(b[a]))return b[a];return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.getScopeList()};this.getRowForOpenBraceIndent=function(e,b,d){if(1>=e.getDocument().$lines.length)return-1;if(this.$tokenUtils.$tokenizeUpToRow(b))try{for(var f=Array(this.$tokens.length),l=0;l<this.$tokens.length;l++)if(null!=this.$tokens[l]&&0<this.$tokens[l].length){var q=this.$tokens[l];
"\\"===q[q.length-1].value&&(f[l]=this.$tokens[l].splice(q.length-1,1)[0])}var h=this.getTokenCursor();if(d){var o=e.getSelection().getCursor();if(!h.moveToPosition(o))return 0}else{h.$row=b;l=h.$tokens[b].length-1;for(l=h.$tokens[b].length-1;0<=l&&!(h.$offset=l,"{"===h.currentValue());l--);}if("{"===h.peekBwd().currentValue()||";"===h.currentValue())return-1;h.bwdOverInitializationList();h.bwdOverClassInheritance();if("{"===h.currentValue()&&!h.moveToPreviousToken()||"{"===h.currentValue())return-1;
for(;"keyword"===h.currentType();){var g=h.currentValue();if(c(a,g)||0===h.$row&&0===h.$offset)return h.$row;if(!h.moveToPreviousToken())return-1}if(":"===h.currentValue()){var j=h.peekBwd().currentValue();if(c(["public","private","protected"],j))return h.moveToNextToken(),h.$row}if(":"===h.currentValue())for(;h.moveToPreviousToken();){if(h.bwdToMatchingToken())if("keyword"===h.peekBwd().currentType())continue;else break;if("identifier"===h.currentType())break}if(")"===h.currentValue()&&!h.bwdToMatchingToken()||
"("===h.currentValue()&&!h.moveToPreviousToken())return-1;"="===h.currentValue()&&h.moveToPreviousToken();return h.$row}finally{for(l=0;l<f.length;l++)"undefined"!==typeof f[l]&&this.$tokens[l].push(f[l])}return-1};this.getLineSansComments=function(c,b,e){if(0>b)return"";for(var c=c.getLine(b),a=/(?!\\)\"/g,d=c,f=null,b=[];f=a.exec(d);)b.push(f.index);if(0<b.length&&0===b.length%2)for(a=0;a<b.length/2;a+=2)d=b[a+1],c=c.substring(0,b[a]+1)+c.substring(d,c.length);b=c.indexOf("//");-1!=b&&(c=c.substring(0,
b));g.test(c)&&(c=c.substring(0,c.lastIndexOf("\\")));e&&(c=c.replace(/\bconst\b/,"").replace(/\bnoexcept\b/,""));return c};this.findStartOfCommentBlock=function(c,b,e){for(var a=0,d=/^\s*\/+\*/;0<=b&&a<e;){if(d.test(c[b]))return b;--b;++a}return-1};this.getNextLineIndent=function(b,a,d,l,o){var q=f(),n=this.$session,i=n.getTabSize(),F=n.getDocument();"number"!==typeof l&&(l=n.getSelection().getCursor().row-1);if(-1===l)return a=F.getLine(0),0<a.length?this.$getIndent(a):"";if(0===a.length||/^\s*#/.test(a))return this.getNextLineIndent(e.getPrimaryState(n,
l-1),F.getLine(l-1),d,l-1,o);var w=this.$getIndent(a),J=this.$getUnindent(a,i),s=F.$lines;if(e.endsWith(b,"comment")||e.endsWith(b,"doc-start")){D&&D.row==l&&(a=a.substring(0,D.column));if(/^\s*$/.test(a))return this.$getIndent(s[l]);D=this.findStartOfCommentBlock(s,l,200);if(null!==D)return this.$getIndent(s[D])+" "}if(e.endsWith(b,"start")){b=null;if(h.test(a))return/\\\s*$/.test(a)?w+d:w;if(/^\s*#\s*\S/.test(a))return w;if(this.inMacro(s,l-1)&&!g.test(a))return J;var a=this.getLineSansComments(F,
l),D=n.getSelection().getCursor();D&&D.row==l&&!o&&(a=a.substring(0,D.column));J=this.getLineSansComments(F,l-1);if("string"!==typeof a)return"";if(0===a.length||/^\s*$/.test(a))return this.$getIndent(s[l]);if(/\*\/\s*$/.test(a)&&(b=this.findStartOfCommentBlock(s,l,200),0<=b))return this.$getIndent(s[b]);if(/^\s*<</.test(a)){for(a=l-1;/^\s*<</.test(s[a]);)a--;return this.$getIndent(s[a])}if(/^\s*\./.test(a)){for(a=l-1;/^\s*\./.test(s[a]);)a--;return this.$getIndent(s[a])}if(/\bnamespace\b.*\{\s*$/.test(a)||
/\bswitch\b.*\{\s*$/.test(a))return w;if(a.match(/\(\s*$/))return-1!==a.indexOf("=")||/^\s*(return\s+)?[a-zA-Z0-9_.->:]+\(\s*$/.test(a)?w+d:w+d+d;if(/^\s*(class|struct).*\{\s*$/.test(a)||/^\s*(class|struct)\s+.+:\s*$/.test(a))return w+d;if((b=a.match(/(^\s*(?:class|struct)\s+.*\w[^:]):[^:]\s*.+/))&&!/,\s*/.test(a)||(b=a.match(/^(\s*(class|struct).*:\s*).*,\s*$/)))return q?Array(b[1].length+1).join(" "):w+d;if(b=a.match(/^(\s*:\s*)(\w+).*,\s*$/))return q?Array(b[1].length+1).join(" "):w+d;if(b=a.match(/^(\s*)[:,]\s*[\w\s]*$/))return q?
Array(b[1].length+1).join(" "):w+d;if(/<\s*$/.test(a))return w+d;if(/^\s*\".*\"\s*$/.test(a)||/^\s*template\s*<.*>\s*$/.test(a)&&a.split(">").length==a.split("<").length)return w;if(/([\[\{\(<]).+,\s*$/.exec(a))for(var K=["(","{","[","<"],b=0;b<K.length;b++){var M=K[b],N=this.$complements[M],M=this.allIndicesOf(a,M);if(M.length&&(N=this.allIndicesOf(a,N),N=M.length-N.length-1,!(0>N))){s=M[N];return q?(a=a.substr(s+1).match(/([^\s])/),Array(s+a.index+2).join(" ")):w+d}}for(b=l-1;0<=b&&/^\s*$|^\s*#/.test(J);)J=
this.getLineSansComments(F,b),b--;if((j.test(a)||k.test(a))&&(j.test(J)||k.test(J)))return this.$getIndent(a);if(this.$tokenUtils.$tokenizeUpToRow(l+2)){K=Array(this.$tokens.length);try{for(b=0;b<this.$tokens.length;b++)if(null!=this.$tokens[b]&&0<this.$tokens[b].length){var r=this.$tokens[b];"\\"===r[r.length-1].value&&(K[b]=this.$tokens[b].splice(r.length-1,1)[0])}var p=this.getTokenCursor();o?(p.$row=l,p.$offset=this.$tokens[l].length-1):p.moveToPosition(D);for(;0>p.$offset&&0<p.$row;)p.$row--,
p.$offset=p.$tokens[p.$row].length-1;for(;0<p.$row&&/^\s*#/.test(F.getLine(p.$row));)p.$row--,p.$offset=p.$tokens[p.$row].length-1;var o="",T=p.cloneCursor(),O=T.currentValue(),R=T.currentType();if("constant"===R||"keyword"===R||"identifier"===R||c(["{",")",">",":"],O))o=d;for(;";"===p.currentValue()&&p.moveToPreviousToken(););var S=p.cloneCursor();if(q&&p.isLastSignificantTokenOnLine()&&("keyword.operator"===p.currentType()||"punctuation.operator"===p.currentType())){var U=p.cloneCursor();U.$offset=
0;if("keyword"===U.currentType()){var G=a.split("(").length-a.split(")").length;if(0<G){var H=a.match(/.*?\(\s*(\S)/);if(H)return Array(H[0].length).join(" ")}}}if(","===p.currentValue()){if(q){var B=p.peekBwd();if("]"===B.currentValue()&&B.bwdToMatchingToken())return Array(B.currentPosition().column+1).join(" ");G=a.split("(").length-a.split(")").length;if(0<G&&(H=a.match(/.*?\(\s*(\S)/)))return Array(H[0].length).join(" ")}if(/[,(]\s*$/.test(a)&&/[,(]\s*$/.test(J))return this.$getIndent(a);var v=
p.cloneCursor();return v.findOpeningBracket("{",!1)&&v.bwdOverClassySpecifiers()&&"enum"===v.currentValue()?this.$getIndent(s[v.$row])+d:-1!==a.indexOf("=")?this.$getIndent(a)+d:this.$getIndent(a)}if("keyword.operator"===R&&":"!==O)return this.$getIndent(s[l])+d;for(;;){if("undefined"===typeof p.currentValue())return"undefined"!==typeof S.currentValue()?this.$getIndent(s[S.$row])+o:o;S=p.cloneCursor();if(";"===p.currentValue()&&p.moveToNextToken()){for(l=p.$row;null!=s[l]&&/^\s*#/.test(s[l]);)++l;
return this.$getIndent(s[l])+o}if(c(["for","while","do","try"],p.currentValue())&&";"!==O)return this.$getIndent(s[p.$row])+o;B=p.peekBwd();if(":"===p.currentValue()){if(c(["public","private","protected"],B.currentValue()))return this.$getIndent(s[B.$row])+d;var C=s[p.$row];if(/^\s*case/.test(C))return this.$getIndent(C)+d;if(")"===B.currentValue()&&(v=B.cloneCursor(),v.bwdToMatchingToken())){var P=v.peekBwd(1),V=v.peekBwd(2);if(null!==P&&"identifier"===P.currentType()&&null!==V&&!/\boperator\b/.test(V.currentType()))return this.$getIndent(s[v.peekBwd().$row])+
o}}if("]"===p.currentValue()&&"("===p.peekFwd().currentValue()&&(v=p.cloneCursor(),v.bwdToMatchingToken()))return this.$getIndent(s[v.$row])+o;if("("===p.currentValue()&&"for"===B.currentValue()&&";"===O)return p.peekFwd().cloneCursor(),q?Array(p.peekFwd().currentPosition().column+1).join(" "):this.$getIndent(s[p.peekFwd().$row])+d;if(q&&"("===p.currentValue()&&!p.isLastSignificantTokenOnLine())return p.moveToNextToken(),Array(p.currentPosition().column+1+i).join(" ");if("if"===p.currentValue()||
"else"===p.currentValue()||"template"===p.currentValue()&&"<"===p.peekFwd().currentValue())return this.$getIndent(s[p.$row])+o;if("{"===p.currentValue()){var W=this.getRowForOpenBraceIndent(n,p.$row);return 0<=W?(a=this.getLineSansComments(F,W),w=this.$getIndent(a),/\bnamespace\b/.test(a)?w:w+d):this.$getIndent(s[p.$row])+d}if(0===p.$row&&0===p.$offset)return this.$getIndent(s[0])+o;if(">"===p.currentValue()&&(v=p.cloneCursor(),v.bwdToMatchingArrow()&&"template"===v.peekBwd().currentValue()))return">"===
O&&(o=""),this.$getIndent(s[v.$row])+o;p.bwdToMatchingToken();if(!p.moveToPreviousToken())break;for(;0<p.$row&&/^\s*#/.test(s[p.$row]);)p.$row--,p.$offset=this.$tokens[p.$row].length-1}}finally{for(b=0;b<K.length;b++)"undefined"!==typeof K[b]&&this.$tokens[b].push(K[b])}}}return w};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$tokenUtils.$insertNewRows(a.range.start.row,a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$tokenUtils.$invalidateRow(a.range.start.row),
this.$tokenUtils.$insertNewRows(a.range.end.row,1)):this.$tokenUtils.$invalidateRow(a.range.start.row):"removeLines"===a.action?(this.$tokenUtils.$removeRows(a.range.start.row,a.range.end.row-a.range.start.row),this.$tokenUtils.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$tokenUtils.$removeRows(a.range.end.row,1),this.$tokenUtils.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?
a[1]:""};this.$padIndent=function(a,b,c){b=Array(b+1).join(" ");b=a.replace("\t",b);return b>=c?a:a+Array(c-b+1).join(" ")};this.$getUnindent=function(a,b){var c=this.$getIndent(a);if(null===c||0===c.length)return"";var e=c.indexOf("\t");if(-1!=e)return c.substring(0,e)+c.substring(e+1,c.length);for(var d=e=0;d<b&&d<c.length;d++)" "===c[d]&&e++;return c.substring(e,c.length)}}).call(c.prototype);k.CppCodeModel=c});define("mode/cpp_scope_tree",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("mode/r_scope_tree"),b=j.ScopeManager,g=j.ScopeNode,h=function(a,b,c,m,d,h){this.label=a;this.start=b;this.preamble=c||b;this.end=null;this.scopeType=m;this.scopeCategory=d;this.attributes=h||{};this.parentScope=null;this.$children=[]};i.mixin(h.prototype,g.prototype);h.CATEGORY_CLASS=1;h.CATEGORY_NAMESPACE=2;h.CATEGORY_FUNCTION=3;h.CATEGORY_LAMBDA=4;h.CATEGORY_ANON=5;(function(){this.isClass=function(){return this.scopeType==
g.TYPE_BRACE&&this.scopeCategory==h.CATEGORY_CLASS};this.isNamespace=function(){return this.scopeType==g.TYPE_BRACE&&this.scopeCategory==h.CATEGORY_NAMESPACE};this.isFunction=function(){return this.scopeType==g.TYPE_BRACE&&this.scopeCategory==h.CATEGORY_FUNCTION};this.isLambda=function(){return this.scopeType==g.TYPE_BRACE&&this.scopeCategory==h.CATEGORY_LAMBDA}}).call(h.prototype);j=function(a){this.$ScopeNodeFactory=a;this.parsePos={row:0,column:0};this.$root=new a("(Top Level)",this.parsePos,null,
g.TYPE_ROOT)};i.mixin(j.prototype,b.prototype);(function(){this.onClassScopeStart=function(a,b,c,m){this.$root.addNode(new this.$ScopeNodeFactory(a,c,b,g.TYPE_BRACE,h.CATEGORY_CLASS,{name:m}));this.printScopeTree()};this.onNamespaceScopeStart=function(a,b,c,m){this.$root.addNode(new this.$ScopeNodeFactory(a,c,b,g.TYPE_BRACE,h.CATEGORY_NAMESPACE,{name:m}));this.printScopeTree()};this.onFunctionScopeStart=function(a,b,c,m,d){this.$root.addNode(new this.$ScopeNodeFactory(a,c,b,g.TYPE_BRACE,h.CATEGORY_FUNCTION,
{name:m,args:d}));this.printScopeTree()};this.onLambdaScopeStart=function(a,b,c,m){this.$root.addNode(new this.$ScopeNodeFactory(a,c,b,g.TYPE_BRACE,h.CATEGORY_LAMBDA,{args:m}));this.printScopeTree()};this.onScopeStart=function(a){this.$root.addNode(new this.$ScopeNodeFactory(null,a,null,g.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){a=this.$root.closeScope(a,g.TYPE_BRACE);this.printScopeTree();return a}}).call(j.prototype);k.CppScopeManager=j;k.CppScopeNode=h});define("mode/dcf",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("mode/dcf_highlight_rules").DcfHighlightRules,h=function(){this.$tokenizer=new b((new g).getRules())};i.inherits(h,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(h.prototype);k.Mode=h});define("mode/dcf_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:["keyword","text"],regex:"^([\\w@-]+)(\\:)"},{token:"text",regex:".+"}]}};i.inherits(b,j);k.DcfHighlightRules=b});define("mode/doc_comment_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"[@\\\\][\\w\\d_]+"},{token:"comment.doc",merge:!0,regex:"\\s+"},{token:"comment.doc",merge:!0,regex:"TODO"},{token:"comment.doc",merge:!0,regex:"[^@\\\\\\*]+"},{token:"comment.doc",merge:!0,regex:"."}]}};i.inherits(b,j);b.getStartRule=function(a){return{token:"comment.doc",
merge:!0,regex:"\\/\\*[\\*\\!]",next:a}};b.getEndRule=function(a){return{token:"comment.doc",merge:!0,regex:"\\*\\/",next:a}};k.DocCommentHighlightRules=b});define("util/expand_selection",["require","exports","module"],function(a){var k=a("ace/editor").Editor,i=a("ace/range").Range;a("ace/keyboard/vim");var j=a("ace/token_iterator").TokenIterator,b=a("mode/utils");(function(){function a(){if(m)for(var b=0;b<arguments.length;b++)console.log(arguments[b])}function h(a,b){for(var c=a.session.getTokens(b),d=0;d<c.length;d++){var e=c[d];if(!/^\s*$/.test(e.value))return/\bcomment\b/.test(e.type)}return!1}function f(a,b){var c=a.start.row<b.start.row||a.start.row===
b.start.row&&a.start.column<b.start.column,d=a.start.row===b.start.row&&a.start.column===b.start.column,e=a.end.row>b.end.row||a.end.row===b.end.row&&a.end.column>b.end.column,f=a.end.row===b.end.row&&a.end.column===b.end.column;return c?e||f:e?c||d:!1}function e(a,b,c){n.push({name:a,immediate:b,execute:c})}var c=this,m=!1,d=!1;this.$onClearSelectionHistory=function(){return c.$clearSelectionHistory()};this.$clearSelectionHistory=function(){this.$selectionRangeHistory=null;this.off("change",this.$clearSelectionHistory)};
this.$acceptSelection=function(b,c,d){a("Accepting selection: ",d,c);null==this.$selectionRangeHistory&&(this.$selectionRangeHistory=[]);b.setSelectionRange(c);b.getRange().isEqual(d)||this.$selectionRangeHistory.push(d);(!this.isRowFullyVisible(c.start.row)||!this.isRowFullyVisible(c.end.row))&&this.centerSelection(b);return c};var n=[];e("word",!0,function(a,b,c,d){return(a=b.getWordRange(d.start.row,d.start.column))&&0!==b.getTextRange(a).trim().length?a:null});e("string",!0,function(a,b,c,d){a=
new j(b);if(b=d=a.moveToPosition(d.start,!0))if(b="string"===d.type)d=d.value,2>d.length?b=!1:(b=d[0],b="'"!==b&&'"'!==b||d[d.length-1]!==b?!1:"\\"===d[d.length-2]&&"\\"!==d[d.length-3]?!1:!0);return b?a.getCurrentTokenRange():null});e("comment",!0,function(a,b,c,d){b=d.start.row;d=d.end.row;for(c=b;c<=d;c++)if(!h(a,c))return null;for(;h(a,b);)b--;for(;h(a,d);)d++;a=a.getSession().getLine(d-1).length;return new i(b+1,0,d-1,a)});e("includeBoundaries",!0,function(c,d,e,f){c=new j(d);e=c.moveToPosition(f.start);
0===f.start.column&&(e=c.moveToPreviousToken());d=new j(d);f=d.moveToPosition(f.end,!0);if(e&&f){var m="support.function.codebegin"===e.type&&"support.function.codeend"===f.type;m||(m=b.isOpeningBracket(e.value)&&b.getComplement(e.value)===f.value);if(m)return a("Expanding to match selection"),c=c.getCurrentTokenPosition(),e=d.getCurrentTokenPosition(),e.column+=f.value.length,i.fromPoints(c,e)}return null});e("nonBlankLines",!1,function(a,b,c,d){a=b.getMode();if(a.getLanguageMode)for(c=d.start.row;c<=
d.end.row;c++)if("Markdown"!==a.getLanguageMode({row:c,column:0}))return null;a=d.start.row;d=d.end.row;for(c=b.getLength();0<=a&&0<b.getLine(a).trim().length;)a--;for(;d<c&&0<b.getLine(d).trim().length;)d++;0===b.getLine(a).trim().length&&a++;0===b.getLine(d).trim().length&&d--;if(a>=d)return null;var c=b.getLine(a).search(/\S/),c=-1===c?0:c,b=b.getLine(d),e=b.search(/\S/),b=-1===e?0:b.trim().length+e;return new i(a,c,d,b)});e("matching",!1,function(a,c,d,e){a=new j(c);e=a.moveToPosition(e.start);
do{if(null==e)break;if(!a.bwdToMatchingToken()&&(b.isOpeningBracket(e.value)||"support.function.codebegin"===e.type)){d=a.getCurrentTokenPosition();"support.function.codebegin"===e.type?(d.row++,d.column=0):d.column+=e.value.length;var f=a.clone();if(f.fwdToMatchingToken())return a=f.getCurrentTokenPosition(),"support.function.codebegin"===e.type&&(a.row--,a.column=c.getLine(a.row).length),i.fromPoints(d,a)}}while(e=a.stepBackward());return null});e("scope",!1,function(a,b,c,d){c=b.getMode();if(null==
c.codeModel||null==c.codeModel.getCurrentScope)return null;a=[];for(d=c.codeModel.getCurrentScope(d.start);null!=d;){var c=d.preamble,e=d.end;if(null==e&&d.parentScope)for(var f=d.parentScope.$children,m=f.length-2;0<=m;m--)if(f[m].equals(d)){e=f[m+1].preamble;break}null==e&&(e={row:b.getLength(),column:0});a.push(i.fromPoints(c,e));d=d.parentScope}return 0===a.length?null:a});e("everything",!1,function(a,b){var c=b.getLength();if(0===c)return new i(0,0,0,0);var d=b.getLine(c-1);return new i(0,0,
c-1,d.length)});this.$expandSelection=function(){a("Begin new expand selection session");a("----------------------------------");d||(c.on("change",c.$onClearSelectionHistory),d=!0);for(var e=this.getSession(),m=this.getSelection(),h=m.getRange(),j=[],i=0;i<n.length;i++){var k=n[i],z=k.execute(this,e,m,h);b.isArray(z)||(z=[z]);for(var I=0;I<z.length;I++){var x=z[I];if(x&&k.immediate&&f(x,h))return this.$acceptSelection(m,x,h);x&&f(x,h)&&j.push({name:k.name,range:x})}}j.sort(function(a,b){var a=a.range,
b=b.range,c=a.end.row-a.start.row,d=b.end.row-b.start.row;return c!==d?c>d:a.end.column-a.start.column>b.end.column-b.start.column});e=j[0].range;a("Selected candidate '"+j[0].name+"'",e);return this.$acceptSelection(m,e,h)};this.$shrinkSelection=function(){var a=this.$selectionRangeHistory;if(a&&a.length)return a=a.pop(),this.getSelection().setSelectionRange(a),(!this.isRowFullyVisible(a.start.row)||!this.isRowFullyVisible(a.end.row))&&this.centerSelection(this.getSelection()),a;d&&(c.off("change",
c.$onClearSelectionHistory),d=!1);return this.getSelectionRange()}}).call(k.prototype)});define("mode/markdown",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/mode/javascript").Mode,g=a("ace/mode/xml").Mode,h=a("ace/mode/html").Mode,f=a("mode/markdown_highlight_rules").MarkdownHighlightRules,e=a("mode/markdown_folding").FoldMode,c=function(){this.HighlightRules=f;this.createModeDelegates({"js-":b,"xml-":g,"html-":h});this.foldingRules=new e};i.inherits(c,j);(function(){this.type="text";this.blockComment={start:"<\!--",end:"--\>"};
this.getNextLineIndent=function(a,b){return this.$getIndent(b)};this.$id="mode/markdown"}).call(c.prototype);k.Mode=c});define("mode/markdown_folding",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/folding/fold_mode").FoldMode,b=a("ace/range").Range,g=k.FoldMode=function(){},h=a("mode/utils");i.inherits(g,j);(function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/;this.getFoldWidget=function(a,b,c){b=a.getLine(c);return!this.foldingStartMarker.test(b)?"":"`"==b[0]&&"start"===h.getPrimaryState(a,c)?"end":"start"};this.getFoldWidgetRange=function(a,e,c){function m(b){return(i=
a.getTokens(b)[0])&&0===i.type.lastIndexOf(k,0)}function d(){var a=i.value[0];return"="==a?6:"-"==a?5:7-i.value.search(/[^#]/)}var n=a.getLine(c),e=n.length,l=a.getLength(),g=c,j=c;if(n.match(this.foldingStartMarker)){if("`"==n[0]){if("start"!==h.getPrimaryState(a,c)){for(;++c<l&&!(n=a.getLine(c),"`"==n[0]&"```"==n.substring(0,3)););return new b(g,e,c,0)}for(;0<c--&&!(n=a.getLine(c),"`"==n[0]&"```"==n.substring(0,3)););return new b(c,n.length,g,0)}var i,k="markup.heading";if(m(c)){for(j=d();++c<l&&
!(m(c)&&d()>=j););j=c-(!i||-1==["=","-"].indexOf(i.value[0])?1:2);if(j>g)for(;j>g&&/^\s*$/.test(a.getLine(j));)j--;if(j>g)return c=a.getLine(j).length,new b(g,e,j,c)}}}}).call(g.prototype)});define("mode/markdown_highlight_rules",["require","exports","module"],function(a,k){function i(a,b){return{token:"support.function",regex:"^\\s*```"+a+"\\s*$",push:b+"start"}}var j=a("ace/lib/oop"),b=a("ace/lib/lang"),g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=a("ace/mode/javascript_highlight_rules").JavaScriptHighlightRules,f=a("ace/mode/xml_highlight_rules").XmlHighlightRules,e=a("ace/mode/html_highlight_rules").HtmlHighlightRules,c=a("ace/mode/css_highlight_rules").CssHighlightRules,
m=function(a){return"(?:[^"+b.escapeRegExp(a)+"\\\\]|\\\\.)*"},d=function(){var a=b.arrayToMap("title,author,date,rtl,depends,autosize,width,height,transition,transition-speed,font-family,css,class,navigation,incremental,left,right,id,audio,video,type,at,help-doc,help-topic,source,console,console-input,execute,pause".split(","));this.$rules={basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:["support.function","support.function","support.function"],regex:"(`+)(.*?[^`])(\\1)"},
{token:"text,constant,text,url,string,text".split(","),regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","keyword","text","constant","text"],regex:"(\\[)("+m("]")+")(\\]s*\\[)("+m("]")+")(\\])"},{token:"text,keyword,text,markup.underline,string,text".split(","),regex:"(\\[)("+m("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+m('"')+'"\\s*)?(\\))'},{token:["constant.numeric","constant.numeric","constant.numeric"],regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},
{token:["constant.language.boolean","constant.language.boolean","constant.language.boolean"],regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","keyword","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],start:[{token:"empty_line",regex:"^$",next:"allowBlock"},{token:["support.function","support.function","support.function"],regex:"(`+)([^\\r]*?[^`])(\\1)"},{token:"markup.heading.1",regex:"^\\={3,}\\s*$",next:"fieldblock"},
{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(a){return"markup.heading."+a.length},regex:/^#{1,6}(?=\s*[^ #]|\s+#.)/,next:"header"},i("(?:javascript|js)","jscode-"),i("xml","xmlcode-"),i("html","htmlcode-"),i("css","csscode-"),{token:"support.function",regex:"^\\s*```\\s*\\S*(?:{.*?\\})?\\s*$",next:"githubblock"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"text,constant,text,url,string,text".split(","),
regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","keyword","text","constant","text"],regex:"(\\[)((?:[[^\\]]*\\]|[^\\[\\]])*)(\\][ ]?(?:\\n[ ]*)?\\[)(.*?)(\\])"},{token:"text,keyword,text,markup.underline,string,text".split(","),regex:'(\\[)(\\[[^\\]]*\\]|[^\\[\\]]*)(\\]\\([ \\t]*)(<?(?:(?:[^\\(]*?\\([^\\)]*?\\)\\S*?)|(?:.*?))>?)((?:[ \t]*"(?:.*?)"[ \\t]*)?)(\\))'},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\*[ ]?){3,}\\s*$"},{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\-[ ]?){3,}\\s*$"},
{token:"constant",regex:"^[ ]{0,2}(?:[ ]?\\_[ ]?){3,}\\s*$"},{token:"markup.list",regex:"\\\\\\[",next:"mathjaxnativedisplay"},{token:"markup.list",regex:"\\\\\\(",next:"mathjaxnativeinline"},{token:"text",regex:"\\\\\\$"},{token:"markup.list",regex:"\\${2}",next:"mathjaxdisplay"},{token:["markup.list","support.function","markup.list"],regex:"(\\$)((?!\\s)[^$]*[^$\\s])(\\$)(?![\\w\\d`])"},{token:["constant.numeric","constant.numeric","constant.numeric"],regex:"([*]{2}|[_]{2}(?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},
{token:["constant.language.boolean","constant.language.boolean","constant.language.boolean"],regex:"([*]|[_](?=\\S))([^\\r]*?\\S[*_]*)(\\1)"},{token:["text","keyword","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:["paren.keyword.operator","text","paren.keyword.operator"],regex:"(\\{)([^\\}]*)(\\})"},{token:"markup.list",regex:"\\[-?\\@[\\w\\d-]+\\]"},{token:"markup.list",
regex:"-?\\@[\\w\\d-]+"},{token:"text",regex:"[^\\*_%$`\\[#<>\\\\]+"},{token:"text",regex:"\\\\"},{token:"constant",regex:"^ {0,2}(?:(?: ?\\* ?){3,}|(?: ?\\- ?){3,}|(?: ?\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"text",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{token:"comment",regex:"<\\!--",next:"html-comment"},{include:"basic"}],"html-comment":[{token:"comment",regex:"--\>",next:"start"},{defaultToken:"comment"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},
{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"text",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"text",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},{token:"support.function",regex:"^\\s*```\\s*[a-zA-Z]*(?:{.*?\\})?\\s*$",next:"githubblock"},{defaultToken:"text"}],blockquote:[{token:"empty_line",
regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:[{token:"support.function",regex:"^\\s*```",next:"start"},{token:"support.function",regex:".+"}],fieldblock:[{token:function(b){b=b.slice(0,-1);return a[b]?"comment.doc.tag":"text"},regex:"^[\\w-]+\\:",next:"fieldblockvalue"},{token:"text",regex:"(?=.+)",next:"start"}],fieldblockvalue:[{token:"text",regex:"$",
next:"fieldblock"},{token:"text",regex:".+"}],mathjaxdisplay:[{token:"markup.list",regex:"\\${2}",next:"start"},{token:"support.function",regex:"[^\\$]+"}],mathjaxnativedisplay:[{token:"markup.list",regex:"\\\\\\]",next:"start"},{token:"support.function",regex:"[\\s\\S]+?"}],mathjaxinline:[{token:"markup.list",regex:"\\$",next:"start"},{token:"support.function",regex:"[^\\$]+"}],mathjaxnativeinline:[{token:"markup.list",regex:"\\\\\\)",next:"start"},{token:"support.function",regex:"[\\s\\S]+?"}]};
this.embedRules(h,"jscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(e,"htmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(c,"csscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.embedRules(f,"xmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]);this.normalizeRules()};j.inherits(d,g);k.MarkdownHighlightRules=d});define("mode/mermaid",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("mode/mermaid_highlight_rules").MermaidHighlightRules,h=function(){this.$highlightRules=new g;this.$tokenizer=new b(this.$highlightRules.getRules())};i.inherits(h,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(h.prototype);k.Mode=h});define("mode/mermaid_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){this.createKeywordMapper({keyword:"sequenceDiagram|participant|graph|subgraph|loop|alt|is|opt|else|end|style|linkStyle|classDef|class"},"identifier",!1);this.$rules={start:[{token:"keyword",merge:!1,regex:"^\\s*graph\\s+(?:TB|BT|RL|LR|TD)\\s*$"},{token:"keyword",merge:!1,regex:"^\\s*(?:sequenceDiagram|participant|subgraph|loop|alt(?:\\s+is)?|opt|else(?:\\s+is)?|end|style|linkStyle|classDef|class)"},
{token:"keyword.operator",merge:!1,regex:">|\\->|\\-\\->|\\-\\-\\-|\\-\\-|\\-\\.\\->|\\-\\.|\\.\\->|==>|==|\\->>|\\-\\->>|\\-x|\\-\\-x"},{token:"paren.keyword.operator",merge:!1,regex:"[[({\\|]"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}]"},{token:"markup.list",merge:!1,regex:"Note\\s+(?:left|right)\\s+of"},{token:"markup.list",merge:!1,regex:"<br/>"},{token:"text",regex:"\\s+",merge:!0}]}};i.inherits(b,j);k.MermaidHighlightRules=b});define("mode/r",["require","exports","module"],function(a,k){a("ace/editor");a("ace/edit_session");a("ace/range");var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=a("mode/r_highlight_rules").RHighlightRules,f=a("mode/r_code_model").RCodeModel,e=a("mode/r_matching_brace_outdent").RMatchingBraceOutdent;a("mode/auto_brace_insert");var c=a("ace/unicode"),m=function(a,c){this.$tokenizer=a?new b((new g).getRules()):
new b((new h).getRules());this.foldingRules=this.codeModel=new f(c,this.$tokenizer);this.$outdent=new e(this.codeModel)};i.inherits(m,j);(function(){this.checkOutdent=function(a,b,c){return this.$outdent.checkOutdent(a,b,c)};this.autoOutdent=function(a,b,c){return this.$outdent.autoOutdent(a,b,c)};this.tokenRe=RegExp("^["+c.packages.L+c.packages.Mn+c.packages.Mc+c.packages.Nd+c.packages.Pc+"._]+","g");this.nonTokenRe=RegExp("^(?:[^"+c.packages.L+c.packages.Mn+c.packages.Mc+c.packages.Nd+c.packages.Pc+
"._]|\\s])+","g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};this.$reOpen=/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.getNextLineIndent=function(a,b,c,e){return this.codeModel.getNextLineIndent(a,b,c,e)};this.allowAutoInsert=this.smartAllowAutoInsert;this.getIndentForOpenBrace=function(a){return this.codeModel.getIndentForOpenBrace(a)};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""};this.transformAction=function(a,b,c,e,f){return"insertion"===b&&"\n"===f&&(a=c.getSelectionRange().start,
(e=/^((\s*#+')\s*)/.exec(e.doc.getLine(a.row)))&&c.getSelectionRange().start.column>=e[2].length)?{text:"\n"+e[1]}:!1};this.$id="mode/r"}).call(m.prototype);k.Mode=m});define("mode/r_code_model",["require","exports","module"],function(a,k){function i(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1}var j=a("ace/range").Range,b=a("ace/token_iterator").TokenIterator,g=a("mode/token_cursor").RTokenCursor,h=a("mode/utils"),f=!1,e=a("mode/r_scope_tree").ScopeManager,c=a("mode/r_scope_tree").ScopeNode,m=function(a,b,f,m,h){this.$session=a;this.$doc=a.getDocument();this.$tokenizer=b;this.$tokens=Array(this.$doc.getLength());this.$endStates=Array(this.$doc.getLength());
this.$statePattern=f;this.$codeBeginPattern=m;this.$codeEndPattern=h;this.$scopes=new e(c);var g=!0,j=function(){g?g=!1:(this.$doc.off("change",i),this.$session.off("changeMode",j))}.bind(this),i=function(a){this.$onDocChange(a)}.bind(this);this.$session.on("changeMode",j);this.$doc.on("change",i)};(function(){function a(b){return"keyword"==b.type&&"function"==b.value}function c(a){return/\boperator\b/.test(a.type)&&/^(=|<-|<<-)$/.test(a.value)}function e(a){return/\bidentifier\b/.test(a.type)}function m(b){var c=
b.cloneCursor();if("{"!==c.currentValue()||!c.moveBackwardOverMatchingParens()||!c.moveToPreviousToken()||!a(c.currentToken()))return!1;b.$row=c.$row;b.$offset=c.$offset;return!0}function k(a){for(;a.findOpeningBracket("(")&&a.moveToPreviousToken();)if(i(a.currentValue(),["if","for","while"]))return!0;return!1}function y(b){var e=b.cloneCursor();if(!a(e.currentToken())||!e.moveToPreviousToken()||!c(e.currentToken())||!e.moveToPreviousToken())return!1;b.$row=e.$row;b.$offset=e.$offset;return!0}function E(a){return/\binfix\b/.test(a.type)}
function L(b){if(a(b.currentToken())&&!b.moveToNextToken()||"("===b.currentValue()&&!b.moveToNextToken()||")"===b.currentValue())return[];var c=[];for(e(b.currentToken())&&c.push(b.currentValue());b.moveToNextToken();)if(!b.fwdToMatchingToken()){if(")"===b.currentValue())break;if(","===b.currentValue()){for(;","===b.currentValue()&&b.moveToNextToken(););e(b.currentToken())&&c.push(b.currentValue())}}return c}function z(a){for(var b=0,c=Math.min(a.getLength(),100),e="Title";b++<c;){var d=a.getLine(b);
if(/^\s*[-]{3}\s*$/.test(d))break;d=/^\s*title:\s+(.*?)\s*$/.exec(d);if(null!==d){e=d[1];break}}return h.stripEnclosingQuotes(e.trim())}var I=h.contains;this.getTokenCursor=function(){return new g(this.$tokens,0,0,this)};this.$complements={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{"};var x=function(a){a=a.trim();return a=a.replace(/[\n\s]+/g," ")};this.getFunctionsInScope=function(a){this.$buildScopeTreeUpToRow(a.row);return this.$scopes.getFunctionsInScope(a)};this.getAllFunctionScopes=function(a){"undefined"===
typeof a&&(a=this.$doc.getLength());this.$buildScopeTreeUpToRow(a);return this.$scopes.getAllFunctionScopes()};this.getDplyrJoinContextFromInfixChain=function(a){var a=a.cloneCursor(),b="";a.hasType("identifier")&&(b=a.currentValue());var c="left";"="===a.currentValue()&&(c="right");if(a.hasType("identifier")){if(!a.moveToPreviousToken())return null;"="===a.currentValue()&&(c="right")}if(!a.findOpeningBracket("(",!0)||!a.moveToPreviousToken())return null;for(;a.findOpeningBracket("(",!0)&&a.moveToPreviousToken();)if(/_join$/.test(a.currentValue())){var d=
a.currentValue();if(!a.moveToNextToken())break;if(!a.moveToNextToken())break;var e=a.currentValue(),f="";if(!1===this.moveToDataObjectFromInfixChain(a))break;f=a.currentValue();return{token:b,leftData:f,rightData:e,verb:d,cursorPos:c}}return null};this.getDataFromInfixChain=function(a){var b=this.moveToDataObjectFromInfixChain(a),c=[],d=[],e="",f=!1;!1!==b&&(b.excludeArgsFromObject&&(f=b.excludeArgsFromObject),e=a.currentValue(),c=b.additionalArgs,d=b.excludeArgs);return{name:e,additionalArgs:c,excludeArgs:d,
excludeArgsFromObject:f}};var u="mutate,summarise,summarize,rename,transmute,select,rename_vars,inner_join,left_join,right_join,semi_join,anti_join,outer_join,full_join".split(","),Q=function(a,b,c,d){if(!a.moveToNextToken()||"("!==a.currentValue()||!a.moveToNextToken()||")"===a.currentValue())return!1;a.hasType("identifier")&&b.additionalArgs.push(a.currentValue());if("rename"===d){if(!a.moveToNextToken())return!1;b.excludeArgs.push(a.currentValue())}"select"===d&&(b.excludeArgsFromObject=!0);do{if(")"===
a.currentValue())break;if(a.$row>c.$row||a.$row===c.$row&&a.$offset>=c.$offset)break;if(a.fwdToMatchingToken()){if(!a.moveToNextToken())break}else if(","===a.currentValue()){if(!a.moveToNextToken())return!1;a.hasType("identifier")&&b.additionalArgs.push(a.currentValue());if(!a.moveToNextToken())return!1;if("="===a.currentValue()&&i(d,["rename","rename_vars"])){if(!a.moveToNextToken())return!1;a.hasType("identifier")&&b.excludeArgs.push(a.currentValue())}}}while(a.moveToNextToken());return!0};this.moveToDataObjectFromInfixChain=
function(a){var b=a.cloneCursor(),c;a:{for(c=b.cloneCursor();c.findOpeningBracket("(",!1)&&c.moveToPreviousToken();){if(!c.moveToPreviousToken())break;if(":"===c.currentValue()){for(;":"===c.currentValue();)if(!c.moveToPreviousToken()){c=!1;break a}if(!c.moveToPreviousToken())break}if(E(c.currentToken())){b.$row=c.$row;b.$offset=c.$offset;c=!0;break a}}c=!1}if(!c)return!1;for(c={additionalArgs:[],excludeArgs:[]};;){if(0===b.$row&&0===b.$offset)return a.$row=0,a.$offset=0,c;b.moveBackwardOverMatchingParens();
if(!b.moveToPreviousToken())return!1;var d=b.currentValue();I(u,d)&&Q(b.cloneCursor(),c,a,d);if(!b.moveToPreviousToken())return 0===b.$row&&0===b.$offset?(a.$row=0,a.$offset=0,c):!1;if(":"===b.currentValue()){for(;":"===b.currentValue();)if(!b.moveToPreviousToken())return!1;if(!b.moveToPreviousToken())return!1}if(!E(b.currentToken()))break}if(!b.moveToNextToken())return!1;a.$row=b.$row;a.$offset=b.$offset;return c};this.getVariablesInScope=function(a){var b=this.getTokenCursor();if(!b.moveToPosition(a))return[];
a=b.cloneCursor();!a.findOpeningBracket("(",!0)||!a.moveToPreviousToken()?a=!1:"function"!==a.currentValue()?a=!1:(b.$row=a.$row,b.$offset=a.$offset,a=!0);a&&y(b)&&b.findStartOfEvaluationContext();a={};do if(!b.bwdToMatchingToken()){var d=a,f=b.cloneCursor();if(!("for"!==f.currentValue()||!f.moveToNextToken()||"("!==f.currentValue())&&f.moveToNextToken()){var m=f.currentValue();f.moveToNextToken()&&"in"===f.currentValue()&&(d[m]="variable")}c(b.currentToken())&&(d="variable",f=b.cloneCursor(),f.moveToNextToken()&&
"function"===f.currentValue()&&(d="function"),f=b.cloneCursor(),f.moveToPreviousToken()&&e(f.currentToken())&&(f=f.currentValue(),a[f]=d))}while(b.moveToPreviousToken());var b=[],h;for(h in a)b.push({token:h,type:a[h]});b.sort();return b};this.$buildScopeTreeUpToRow=function(a){function c(a,b){if("undefined"===typeof a)return"";var d=a.exec(b);if(!d)return null;var e=d[1].split(",");if(0==e.length)return null;if(!/=/.test(e[0]))return e[0].replace(/(^\s+)|(\s+$)/g,"");for(var f=0;f<e.length;f++)if(d=
/^\s*label\s*=\s*(.*)$/.exec(e[f]))return h.stripEnclosingQuotes(d[1].trim());return null}var d=this.$session.getMode().$id,a=Math.min(a+30,this.$doc.getLength()-1);if(!(this.$scopes.parsePos.row>=a)){var e=new b(this.$session);e.moveToPosition({row:this.$scopes.parsePos.row,column:this.$scopes.parsePos.column},!0);var f=e.getCurrentToken();if(null!=f){var g=f.value,l=f.type,n=e.getCurrentTokenPosition();do{if(e.$row>a)break;g=f.value;l=f.type;n=e.getCurrentTokenPosition();if("rd-start"===this.$session.getState(n.row))e.moveToEndOfRow();
else if(f=!0,this.$codeBeginPattern&&(f=/^r-/.test(this.$session.getState(e.$row))),h.startsWith(l,"markup.heading")){var f="",i={row:n.row,column:0},k={row:n.row+1,column:0},l=0;/^\s*#+\s*$/.test(g)?(l=g.split("#").length-1,g=this.$session.getLine(n.row),f=g.replace(/^\s*[#]+\s*/,"")):/^[-=]{3,}\s*$/.test(g)&&(l="="===g[0]?1:2,f=this.$session.getLine(n.row-1).trim(),i.row--);0===f.length&&(f="(Untitled)");g=f.indexOf("{");-1!==g&&(f=f.substr(0,g).trim());this.$scopes.onMarkdownHead(f,i,k,l)}else if(f&&
/\bsectionhead\b/.test(l))f=/^#+'?[-=#\s]*(.*?)\s*[-=#]+\s*$/.exec(g)[1],this.$scopes.onSectionHead(f,n);else if(!f&&"mode/sweave"===d&&"keyword"===l&&0===g.indexOf("\\")&&("\\chapter"===g||"\\section"===g||"\\subsection"===g||"\\subsubsection"===g))l=1,"\\chapter"===g?l=2:"\\section"===g?l=3:"\\subsection"===g?l=4:"\\subsubsection"===g&&(l=5),g=this.$doc.getLine(n.row),g=/{([^}]*)}/.exec(g),f="",null!=g&&(f=g[1]),i={row:n.row,column:0},k={row:n.row,column:Infinity},this.$scopes.onMarkdownHead(f,
i,k,l);else if(/\bcodebegin\b/.test(l)&&"---"===g)this.$scopes.onSectionHead(z(this.$session),n,{isYaml:!0});else/\bcodeend\b/.test(l)&&"---"===g?(n.column=Infinity,this.$scopes.onSectionEnd(n)):/\bcodebegin\b/.test(l)?(l={row:n.row+1,column:0},i=this.$scopes.getChunkCount()+1,f=c(this.$codeBeginPattern,g),i="Chunk "+i,f&&"YAML Header"!==g&&(i+=": "+f),this.$scopes.onChunkStart(f,i,n,l)):/\bcodeend\b/.test(l)?(n.column+=g.length,this.$scopes.onChunkEnd(n)):f&&"{"===g?(g=this.getTokenCursor(),g.moveToPosition(n,
!0),n=g.cloneCursor(),n.currentPosition(),m(n)?(l=n.cloneCursor(),l.moveToNextToken(),l.currentPosition(),f=null,y(n)&&(i=n.cloneCursor(),n.findStartOfEvaluationContext()&&(f=n.currentPosition(),k=i.currentPosition(),f=this.$doc.getTextRange(new j(f.row,f.column,k.row,k.column+i.currentValue().length)))),i=n.currentPosition(),n.isFirstSignificantTokenOnLine()&&(i.column=0),n=L(l),l="("+n.join(", ")+")",this.$scopes.onFunctionScopeStart(null==f?x("<function>"+l):x(f+l),i,g.currentPosition(),f,n)):
(i=g.currentPosition(),g.isFirstSignificantTokenOnLine()&&(i.column=0),this.$scopes.onScopeStart(i))):f&&"}"===g&&(n.column+=1,this.$scopes.onScopeEnd(n))}while(f=e.moveToNextToken());this.$scopes.parsePos={row:Math.max(a,e.$row),column:-1}}}};this.$getFoldToken=function(a,b,c){this.$tokenizeUpToRow(c);if(this.$statePattern&&!this.$statePattern.test(this.$endStates[c]))return"";a=this.$tokens[c];if(1==a.length&&/\bsectionhead\b/.test(a[0].type))return a[0];for(var c=0,d=null,e=null,f=0;f<a.length;f++){var m=
a[f];if(/\bparen\b/.test(m.type))switch(m.value){case "{":c++;1==c&&(d=m);break;case "}":c--,0==c&&(d=null),0>c&&(e=m,c=0)}}return d?d:"markbeginend"==b&&e?e:1<=a.length&&(/\bcodebegin\b/.test(a[0].type)||/\bcodeend\b/.test(a[0].type))?a[0]:null};this.getFoldWidget=function(a,b,c){a=this.$getFoldToken(a,b,c);return null==a?"":"{"==a.value?"start":"}"==a.value?"end":/\bcodebegin\b/.test(a.type)?"start":/\bcodeend\b/.test(a.type)?"end":/\bsectionhead\b/.test(a.type)?"start":""};this.getFoldWidgetRange=
function(a,c,d){var e=this.$getFoldToken(a,c,d);if(e){c={row:d,column:e.column+1};if("{"==e.value)return a=a.$findClosingBracket(e.value,c),!a?void 0:j.fromPoints(c,a);if("}"==e.value)return a=a.$findOpeningBracket(e.value,c),!a?void 0:j.fromPoints({row:a.row,column:a.column+1},{row:c.row,column:c.column-1});if(/\bcodebegin\b/.test(e.type))for(var c=new b(a,d,0),f;f=c.stepForward();){if(/\bcode(begin|end)\b/.test(f.type))return f=/\bcodebegin\b/.test(f.type),c=c.getCurrentTokenRow(),a=f?{row:c-1,
column:a.getLine(c-1).length}:{row:c,column:a.getLine(c).length},j.fromPoints({row:d,column:e.column+e.value.length},a)}else if(/\bcodeend\b/.test(e.type))for(c=new b(a,d,0);e=c.stepBackward();){if(/\bcodebegin\b/.test(e.type))return c=c.getCurrentTokenRow(),j.fromPoints({row:c,column:a.getLine(c).length},{row:d,column:a.getLine(d).length})}else if(/\bsectionhead\b/.test(e.type)&&(e=/([-=#])\1+\s*$/.exec(e.value))){c.column+=e.index-1;for(e=new b(a,d,0);(f=e.stepForward())&&!/\bsectionhead\b/.test(f.type);)d=
e.getCurrentTokenRow();return j.fromPoints(c,{row:d,column:a.getLine(d).length})}}};this.getCurrentScope=function(a,b){b||(b=function(){return!0});if(!a)return"";this.$buildScopeTreeUpToRow(a.row);var c=this.$scopes.getActiveScopes(a);if(c)for(var e=c.length-1;0<=e;e--)if(b(c[e]))return c[e];return null};this.getScopeTree=function(){this.$buildScopeTreeUpToRow(this.$doc.getLength()-1);return this.$scopes.getScopeList()};this.findFunctionDefinitionFromUsage=function(a,b){this.$buildScopeTreeUpToRow(this.$doc.getLength()-
1);return this.$scopes.findFunctionDefinitionFromUsage(a,b)};this.getIndentForOpenBrace=function(a){if(this.$tokenizeUpToRow(a.row)){var b=this.getTokenCursor();if(b.seekToNearestToken(a,a.row)&&"{"==b.currentValue()&&b.moveBackwardOverMatchingParens())return this.$getIndent(this.$getLine(b.currentPosition().row))}return this.$getIndent(this.$getLine(a.row))};this.getIndentForRow=function(a){return this.getNextLineIndent("start",this.$getLine(a),this.$session.getTabString(),a)};this.getNextLineIndent=
function(a,b,e,d){if(h.endsWith(a,"qstring"))return"";"number"!==typeof d&&(d=this.$session.getSelection().getCursor().row-1);var m=this.$session.getTabSize(),a=Array(m+1).join(" ");this.$lineOverrides=null;this.$doc.getLine(d)!==b&&(this.$lineOverrides={},this.$lineOverrides[d]=b,this.$invalidateRow(d));try{var g=0>d?"":this.$getIndent(this.$getLine(d));if(!this.$tokenizeUpToRow(d))return g;var l={row:d,column:this.$getLine(d).length},j=this.$findPreviousSignificantToken(l,d-10),g="",o=!1;if(j&&
("keyword.operator"===j.token.type||"keyword.operator.infix"===j.token.type))g=e,o=!0;else if(j&&/\bparen\b/.test(j.token.type)&&/\)$/.test(j.token.value)){var y=this.$walkParensBalanced(j.row,j.row-10,null,function(a){return 0===a.length});if(null!=y){var L=this.$findPreviousSignificantToken(y,0);if(L&&"keyword"===L.token.type&&/^(if|while|for|function)$/.test(L.token.value))return this.$getIndent(this.$getLine(L.row))+e}}else if(j&&"keyword"===j.token.type&&("repeat"===j.token.value||"else"===j.token.value))return this.$getIndent(this.$getLine(j.row))+
e;var r=this.getTokenCursor();if(!r.moveToPosition(l))return"";do{var p=r.currentType();if("support.function.codebegin"===p||"support.function.codeend"===p)return this.$getIndent(this.$doc.getLine(r.$row))+g;var z=r.currentValue();if(r.isAtStartOfNewExpression(!1))return"{"===z&&(g=e),this.$getIndent(this.$doc.getLine(r.$row))+g;if(!r.bwdToMatchingToken()){if("{"===z)break;if(I(["[","("],z)){var x=r.currentPosition(),l=null;f&&(l=this.$findNextSignificantToken({row:x.row,column:x.column+1},d));if(l){for(var b=
this.$getLine(l.row),E=b.replace(/[^\s].*$/,""),u=l.column-E.length,Q=Math.floor(u/m),x=u-m*Q,u="",b=0;b<Q;b++)u+=e;for(e=0;e<x;e++)u+=" ";for(var e=E+u,G=e.replace("\t",a).length,H,b=l.row+1;b<=d;b++)if(/[^\s]/.test(this.$getLine(b))){var B=this.$endStates[b-1];if(!("qstring"===B||"qqstring"===B)){H=this.$getLine(b).replace(/[^\s].*$/,"");var v=H.replace("\t",a).length;v<G&&(e=H,G=v)}}return k(r)?e:e+g}return this.getIndentForOpenBrace(x)+e+g}}}while(r.moveToPreviousToken());if(!r.moveToPosition(l))return"";
do if(!r.bwdToMatchingToken()){if("{"===r.currentValue())return this.getIndentForOpenBrace(r.currentPosition())+e+g;if(c(r.currentToken())){for(;c(r.currentToken())&&r.moveToPreviousToken();){if(!r.findStartOfEvaluationContext())break;var C=r.cloneCursor();if(C.moveToPreviousToken()&&("else"===C.currentValue()||"repeat"===C.currentValue()||")"===C.currentValue()&&C.bwdToMatchingToken()&&C.moveToPreviousToken()&&(z=C.currentValue(),I(["if","for","while","repeat","else"],z))))return this.$getIndent(this.$doc.getLine(C.$row))+
g+g;c(r.peekBwd().currentToken())&&r.moveToPreviousToken()}return this.$getIndent(this.$getLine(r.$row))+g}}while(r.moveToPreviousToken());if(o){G=0;r=this.getTokenCursor();r.moveToPosition(l);r.moveToPreviousToken();do{if(i(r.currentValue(),["if","else"])){g+=e;break}if(r.hasType("constant","identifier")){if(!r.moveToPreviousToken())break;if(i(r.currentValue(),["if","else"])){g+=e;break}if(")"===r.currentValue()){if(!r.bwdToMatchingToken())break;if(!r.moveToPreviousToken())break;if(i(r.currentValue(),
["if","else"])){g+=e;break}}if(!r.hasType("operator"))break}else if(!r.findStartOfEvaluationContext())break}while(r.moveToPreviousToken()&&20>G++)}var P=this.$findNextSignificantToken({row:0,column:0},d);return P?this.$getIndent(this.$getLine(P.row))+g:""+g}finally{this.$lineOverrides&&(this.$lineOverrides=null,this.$invalidateRow(d))}};this.getBraceIndent=function(a){var b=this.getTokenCursor(),c={row:a,column:this.$getLine(a).length};if(!b.moveToPosition(c))return"";if(")"===b.currentValue()){if(b.bwdToMatchingToken()&&
b.moveToPreviousToken()&&(c=b.currentValue(),i(c,["if","while","for","function"])))return this.$getIndent(this.$getLine(b.$row))}else if(i(b.currentValue(),["else","repeat","<-","<<-","="])||b.hasType("infix")||"keyword.operator"===b.currentType())return this.$getIndent(this.$getLine(b.$row));return this.getIndentForRow(a)};this.getTokenForPos=function(a,b,c){this.$tokenizeUpToRow(a.row);if(this.$tokens.length<=a.row)return null;for(var e=this.$tokens[a.row],d=0;d<e.length;d++){var f=e[d];if(b&&a.column==
f.column)return f;if(a.column<=f.column)break;if(c&&a.column==f.column+f.value.length||a.column<f.column+f.value.length)return f}return null};this.$tokenizeUpToRow=function(a){for(var a=Math.min(a,this.$endStates.length-1),b=0,c=!0;b<=a;b++)if(!c||!this.$endStates[b]){var c=!1,e=0===b?"start":this.$endStates[b-1],d=this.$tokenizer.getLineTokens(this.$getLine(b),e);this.$tokens[b]=!this.$statePattern||this.$statePattern.test(d.state)||this.$statePattern.test(e)?this.$filterWhitespaceAndComments(d.tokens):
[];d.state===this.$endStates[b]?c=!0:this.$endStates[b]=d.state}c||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$onDocChange=function(a){a=a.data;"insertLines"===a.action?this.$insertNewRows(a.range.start.row,a.range.end.row-a.range.start.row):"insertText"===a.action?this.$doc.isNewLine(a.text)?(this.$invalidateRow(a.range.start.row),this.$insertNewRows(a.range.end.row,1)):this.$invalidateRow(a.range.start.row):"removeLines"===a.action?(this.$removeRows(a.range.start.row,a.range.end.row-
a.range.start.row),this.$invalidateRow(a.range.start.row)):"removeText"===a.action&&(this.$doc.isNewLine(a.text)&&this.$removeRows(a.range.end.row,1),this.$invalidateRow(a.range.start.row));this.$scopes.invalidateFrom(a.range.start)};this.$invalidateRow=function(a){this.$tokens[a]=null;this.$endStates[a]=null};this.$insertNewRows=function(a,b){for(var c=[a,0],e=0;e<b;e++)c.push(null);this.$tokens.splice.apply(this.$tokens,c);this.$endStates.splice.apply(this.$endStates,c)};this.$removeRows=function(a,
b){this.$tokens.splice(a,b);this.$endStates.splice(a,b)};this.$getIndent=function(a){return(a=/^([ \t]*)/.exec(a))?a[1]:""};this.$getLine=function(a){return this.$lineOverrides&&"undefined"!=typeof this.$lineOverrides[a]?this.$lineOverrides[a]:this.$doc.getLine(a)};this.$walkParens=function(a,b,c){var e=/\bparen\b/;return a<b?function(){for(;a<=b;a++)for(var d=this.$tokens[a],f=0;f<d.length;f++)if(e.test(d[f].type)&&!c(d[f].value,{row:a,column:d[f].column}))return!1;return!0}.call(this):function(){a=
Math.max(0,a);for(b=Math.max(0,b);a>=b;a--)for(var d=this.$tokens[a],f=d.length-1;0<=f;f--)if(e.test(d[f].type)&&!c(d[f].value,{row:a,column:d[f].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(a,b,c,e){var d=[],f=null,m=this;this.$walkParens(a,b,function(a,b){if(c&&c(d,a,b))return f=b,!1;if(/[\[({]/.test(a))if(d[d.length-1]===m.$complements[a])d.pop();else return!0;else d.push(a);return e&&e(d,a,b)?(f=b,!1):!0});return f};this.$findNextSignificantToken=function(a,b){if(0==
this.$tokens.length)return null;for(var b=Math.min(b,this.$tokens.length-1),c=a.row,d=a.column;c<=b;c++){for(var e=this.$tokens[c],f=0;f<e.length;f++)if(e[f].column+e[f].value.length>d)return{token:e[f],row:c,column:Math.max(e[f].column,d),offset:f};d=0}return null};this.findNextSignificantToken=function(a){return this.$findNextSignificantToken(a,this.$tokens.length-1)};this.$findPreviousSignificantToken=function(a,b){if(0===this.$tokens.length)return null;for(var b=Math.max(0,b),c=Math.min(a.row,
this.$tokens.length-1);c>=b;c--){var e=this.$tokens[c];if(0!==e.length){if(c!=a.row)return{row:c,column:e[e.length-1].column,token:e[e.length-1],offset:e.length-1};for(var d=e.length-1;0<=d;d--)if(e[d].column<a.column)return{row:c,column:e[d].column,token:e[d],offset:d}}}};this.$filterWhitespaceAndComments=function(a){for(var a=a.filter(function(a){a=/\bcode(?:begin|end)\b/.test(a.type)||/\bsectionhead\b/.test(a.type)?!1:/^\s*$/.test(a.value)||a.type.match(/\b(?:ace_virtual-)?comment\b/);return!a}),
b=a.length-1;0<=b;b--)if(1<a[b].value.length&&/\bparen\b/.test(a[b].type)){var c=a[b];a.splice(b,1);for(var e=c.value.length-1;0<=e;e--){var d={type:c.type,value:c.value.charAt(e),column:c.column+e};a.splice(b,0,d)}}return a}}).call(m.prototype);k.RCodeModel=m;k.setVerticallyAlignFunctionArgs=function(a){f=a};k.getVerticallyAlignFunctionArgs=function(){return f}});var $colorFunctionCalls=!1;
define("mode/r_highlight_rules",["require","exports","module"],function(a,k){function i(){for(var a=Array(arguments.length),b=0;b<arguments.length;b++)a[b]={include:arguments[b]};return a}var j=a("ace/lib/oop"),b=a("ace/lib/lang"),g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=a("mode/tex_highlight_rules").TexHighlightRules,f=function(){var a=b.arrayToMap("function,if,else,in,break,next,repeat,for,while".split(",")),c=b.arrayToMap("return,switch,try,tryCatch,stop,warning,require,library,attach,detach,source,setMethod,setGeneric,setGroupGeneric,setClass,setRefClass,R6Class,UseMethod,NextMethod".split(",")),f=
b.arrayToMap("NULL,NA,TRUE,FALSE,T,F,Inf,NaN,NA_integer_,NA_real_,NA_character_,NA_complex_".split(",")),d={"#comment":[{token:"comment.sectionhead",regex:"#+(?!')(?:[^-=#]).*(?:----|====|####)\\s*$",next:"start"},{token:"comment",regex:"#+'",next:"rd-start"},{token:"comment",regex:"#.*$",next:"start"}],"#string":[{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',next:"start"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",next:"start"},{token:"string",merge:!0,regex:'["]',next:"qqstring"},
{token:"string",merge:!0,regex:"[']",next:"qstring"}],"#number":[{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+[Li]?\\b",merge:!1,next:"start"},{token:"constant.numeric",regex:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?[iL]?\\b",merge:!1,next:"start"},{token:"constant.numeric",regex:"\\.\\d+(?:[eE][+\\-]?\\d*)?[iL]?\\b",merge:!1,next:"start"}],"#quoted-identifier":[{token:"identifier",regex:"`.*?`",merge:!1,next:"start"}],"#identifier":[{token:function(a){return f[a]?"constant.language":a.match(/^\.\.\d+$/)?
"variable.language":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*",next:"start"}],"#keyword-or-identifier":[{token:function(b){return f[b]?"constant.language":a[b]?"keyword":b.match(/^\.\.\d+$/)?"variable.language":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*",next:"start"}],"#package-access":[{token:function(){return $colorFunctionCalls?"identifier.support.class":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*(?=\\s*::)",next:"start"}],"#function-call":[{token:function(){return $colorFunctionCalls?"identifier.support.function":
"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*(?=\\s*\\()",next:"start"}],"#function-call-or-keyword":[{token:function(b){return c[b]||a[b]?"keyword":$colorFunctionCalls?"identifier.support.function":"identifier"},regex:"[a-zA-Z.][a-zA-Z0-9._]*(?=\\s*\\()",next:"start"}],"#operator":[{token:"keyword.operator",regex:"\\$|@",merge:!1,next:"afterDollar"},{token:"keyword.operator",regex:":::|::|:=|%%|>=|<=|==|!=|\\->|<\\-|<<\\-|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||~|\\$|:|@",merge:!1,next:"start"},
{token:"keyword.operator.infix",regex:"%.*?%",merge:!1,next:"start"},{token:"paren.keyword.operator",merge:!1,regex:"[[({]",next:"start"},{token:"paren.keyword.operator",merge:!1,regex:"[\\])}]",next:"start"},{token:function(){return $colorFunctionCalls?"punctuation.keyword.operator":"punctuation"},regex:"[;]",merge:!1,next:"start"},{token:function(){return $colorFunctionCalls?"punctuation.keyword.operator":"punctuation"},regex:"[,]",merge:!1,next:"start"}],"#text":[{token:"text",regex:"\\s+"}]};
d.start=i("#comment","#string","#number","#package-access","#quoted-identifier","#function-call-or-keyword","#keyword-or-identifier","#operator","#text");d.afterDollar=i("#comment","#string","#number","#quoted-identifier","#function-call","#keyword-or-identifier","#operator","#text");d.qqstring=[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+",merge:!0}];d.qstring=[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+",
merge:!0}];this.$rules=d;for(var d=(new h("comment")).getRules(),g=0;g<d.start.length;g++)d.start[g].token+=".virtual-comment";this.addRules(d,"rd-");this.$rules["rd-start"].unshift({token:"text",regex:"^",next:"start"});this.$rules["rd-start"].unshift({token:"keyword",regex:"@(?!@)[^ ]*"});this.$rules["rd-start"].unshift({token:"comment",regex:"@@"});this.$rules["rd-start"].push({token:"comment",regex:"[^%\\\\[({\\])}]+"});this.normalizeRules()};j.inherits(f,g);k.RHighlightRules=f;k.setHighlightRFunctionCalls=
function(a){$colorFunctionCalls=a}});define("mode/r_matching_brace_outdent",["require","exports","module"],function(a,k){var i=a("ace/range").Range,j=function(a){this.codeModel=a};(function(){this.checkOutdent=function(a,g,h){return/^\s+$/.test(g)&&/^\s*[\{\}\)]/.test(h)||/^\s*}\s*$/.test(g)&&"\n"==h||/}\s*$/.test(g)&&/\n/.test(h)?!0:!1};this.autoOutdent=function(a,g,h){if(0===h)return 0;var a=g.getLine(h),f=a.match(/^(\s*[\}\)])/);if(f){var f=f[1].length,e=g.findMatchingBracket({row:h,column:f});if(!e||e.row==h)return 0;e=this.codeModel.getIndentForOpenBrace(e);
g.replace(new i(h,0,h,f-1),e)}if(f=a.match(/^(\s*\{)/))f=f[1].length,e=this.codeModel.getBraceIndent(h-1),g.replace(new i(h,0,h,f-1),e)}}).call(j.prototype);k.RMatchingBraceOutdent=j});define("mode/r_scope_tree",["require","exports","module"],function(a,k){function i(a){b&&console.log(a)}function j(a,b){return a.row!=b.row?a.row-b.row:a.column-b.column}var b=!1,g=function(a){this.$ScopeNodeFactory=a;this.parsePos={row:0,column:0};this.$root=new this.$ScopeNodeFactory("(Top Level)",this.parsePos,null,h.TYPE_ROOT)};(function(){function a(b){count=b.isChunk()?1:0;for(var b=b.$children||[],e=0;e<b.length;e++)count+=a(b[e]);return count}this.onSectionHead=function(a,b,e){"undefined"==
typeof e&&(e={});var f=this.getActiveScopes(b);if(1<f.length)for(var f=f[f.length-2].$children,g=f.length-1;0<=g;g--)if(f[g].isSection()){this.$root.closeScope(b,h.TYPE_SECTION);break}this.$root.addNode(new this.$ScopeNodeFactory(a,b,b,h.TYPE_SECTION,e))};this.onSectionEnd=function(a){this.$root.closeScope(a,h.TYPE_SECTION)};this.closeMarkdownHeaderScopes=function(a,b,e){for(var f=a.$children,g=f.length-1;0<=g;g--){var j=f[g];if(j.isSection()&&j.attributes.depth>=e)return i("Closing Markdown scope: '"+
j.label+"'"),this.$root.closeScope(b,h.TYPE_SECTION),j.attributes.depth===e||a.isRoot()||null==a?void 0:this.closeMarkdownHeaderScopes(a.parentScope,b,e)}a.isRoot()||null==a||this.closeMarkdownHeaderScopes(a.parentScope,b,e)};this.onMarkdownHead=function(a,b,e,f){i("Adding Markdown header: '"+a+"' ["+f+"]");var g=this.getActiveScopes(b);1<g.length&&this.closeMarkdownHeaderScopes(g[g.length-2],b,f);this.$root.addNode(new this.$ScopeNodeFactory(a,e,b,h.TYPE_SECTION,{depth:f,isMarkdown:!0}))};this.onChunkStart=
function(a,b,e,f){var g=this.$root.closeScope(e,h.TYPE_CHUNK);g&&i("chunk-scope implicit end: "+g.label);i("adding chunk-scope "+b);b=new this.$ScopeNodeFactory(b,f,e,h.TYPE_CHUNK);b.chunkLabel=a;this.$root.addNode(b);this.printScopeTree()};this.onChunkEnd=function(a){(a=this.$root.closeScope(a,h.TYPE_CHUNK))?i("chunk-scope end: "+a.label):i("extra chunk-scope end");this.printScopeTree();return a};this.onFunctionScopeStart=function(a,b,e,f,g){i("adding function brace-scope "+a);this.$root.addNode(new this.$ScopeNodeFactory(a,
e,b,h.TYPE_BRACE,{name:f,args:g}));this.printScopeTree()};this.onNamedScopeStart=function(a,b){this.$root.addNode(new this.$ScopeNodeFactory(a,b,null,h.TYPE_BRACE))};this.onScopeStart=function(a){i("adding anon brace-scope");this.$root.addNode(new this.$ScopeNodeFactory(null,a,null,h.TYPE_BRACE));this.printScopeTree()};this.onScopeEnd=function(a){(a=this.$root.closeScope(a,h.TYPE_BRACE))?i("brace-scope end: "+a.label):i("extra brace-scope end");this.printScopeTree();return a};this.getActiveScopes=
function(a){return this.$root.findNode(a)};this.getScopeList=function(){return this.$root.$children};this.findFunctionDefinitionFromUsage=function(a,b){return this.$root.findFunctionDefinitionFromUsage(a,b)};this.getFunctionsInScope=function(a,b){return this.$root.getFunctionsInScope(a,b)};this.invalidateFrom=function(a){a={row:Math.max(0,a.row-1),column:0};i("Invalidate from "+a.row+", "+a.column);0<j(this.parsePos,a)&&(this.parsePos=this.$root.invalidateFrom(a));this.printScopeTree()};this.getChunkCount=
function(){return a(this.$root)};this.getTopLevelScopeCount=function(){return this.$root.$children.length};this.printScopeTree=function(){b&&this.$root.printDebug()};this.getAllFunctionScopes=function(){var a=[];e(this.$root,a);return a};var e=function(a,b){a.isFunction()&&b.push(a);for(var d=a.$children,f=0;f<d.length;f++)e(d[f],b)}}).call(g.prototype);var h=function(a,b,c,g,d){this.label=a;if((this.start=b)&&c&&(c.row>b.row||c.row===b.row&&c.column>b.column))throw Error("Malformed preamble: should lie before start position");
this.preamble=c||b;this.end=null;this.scopeType=g;this.parentScope=null;this.attributes=d||{};this.$children=[]};h.TYPE_ROOT=1;h.TYPE_BRACE=2;h.TYPE_CHUNK=3;h.TYPE_SECTION=4;(function(){this.isRoot=function(){return this.scopeType==h.TYPE_ROOT};this.isBrace=function(){return this.scopeType==h.TYPE_BRACE};this.isChunk=function(){return this.scopeType==h.TYPE_CHUNK};this.isSection=function(){return this.scopeType==h.TYPE_SECTION};this.isFunction=function(){return this.isBrace()&&!!this.label};this.equals=
function(a){return this.scopeType!==a.scopeType||this.start.row!==a.start.row||this.start.column!==a.start.column?!1:!0};this.addNode=function(a){!a.end||window.alert("[ASSERTION FAILED] New node is already closed");0==a.$children.length||window.alert("[ASSERTION FAILED] New node already had children");if(!this.equals(a)){this.end=null;var b=this.$binarySearch(a.preamble);0<=b?this.$children[b].addNode(a):(b=-(b+1),b<this.$children.length&&(a.$children=this.$children.splice(b,this.$children.length-
b)),a.parentScope=this,this.$children.push(a))}};this.closeScope=function(a,b){if(0==this.$children.length)return null;var c=this.$children[this.$children.length-1];if(c.end)return null;var g=c.closeScope(a,b);if(g)return g;return b==c.scopeType?(c.end=a,c.$forceDescendantsClosed(a),c):null};this.$forceDescendantsClosed=function(a){if(0!=this.$children.length){var b=this.$children[this.$children.length-1];b.end||(b.$forceDescendantsClosed(a),b.end=a)}};this.findNode=function(a){var b=this.$binarySearch(a);
return 0<=b&&(a=this.$children[b].findNode(a))?(this.label&&a.unshift(this),a):this.label?[this]:null};this.$getFunctionStack=function(a){var b=this.$binarySearch(a),a=0<=b?this.$children[b].$getFunctionStack(a):[];this.isFunction()&&a.push(this);return a};this.findFunctionDefinitionFromUsage=function(a,b){for(var c=this.$getFunctionStack(a),g=0;g<c.length;g++)for(var d=c[g],h=0;h<d.$children.length;h++)if(d.$children[h].label==b)return d.$children[h];return null};this.getFunctionsInScope=function(a){for(var a=
this.$getFunctionStack(a),b=[],c=0;c<a.length;c++)b.push({name:a[c].attributes.name,args:a[c].attributes.args.slice()});return b};this.invalidateFrom=function(a){var b=this.$binarySearch(a);0<=b?0>=j(a,this.$children[b].start)?a=this.$children[b].preamble:(a=this.$children[b].invalidateFrom(a),b++):b=-(b+1);b<this.$children.length&&this.$children.splice(b,this.$children.length-b);this.end=null;return a};this.$binarySearch=function(a,b,c){"undefined"===typeof b&&(b=0);"undefined"===typeof c&&(c=this.$children.length);
if(b===c)return-(b+1);var g=Math.floor((b+c)/2),d=this.$children[g].comparePosition(a);return 0===d?g:0>d?this.$binarySearch(a,b,g):this.$binarySearch(a,g+1,c)};this.comparePosition=function(a){return 0>j(a,this.preamble)?-1:null!=this.end&&0<=j(a,this.end)?1:0};this.printDebug=function(a){"undefined"===typeof a&&(a="");i(a+'"'+this.label+'" ['+this.preamble.row+"x"+this.preamble.column+(this.start?"-"+this.start.row+"x"+this.start.column:"")+", "+(this.end?this.end.row+"x"+this.end.column:"null")+
"]");for(var b=0;b<this.$children.length;b++)this.$children[b].printDebug(a+"    ")}}).call(h.prototype);k.ScopeManager=g;k.ScopeNode=h});define("mode/rdoc",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=a("mode/rdoc_highlight_rules").RDocHighlightRules,f=a("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=function(a){a?(this.$highlightRules=new g,this.$tokenizer=new b((new g).getRules())):(this.$highlightRules=new h,this.$tokenizer=new b((new h).getRules()));this.$outdent=new f};i.inherits(e,
j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(e.prototype);k.Mode=e});define("mode/rdoc_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop");a("ace/lib/lang");var j=a("ace/mode/text_highlight_rules").TextHighlightRules,b=function(){var a;a="\\"+"name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage".replace(/\|/g,"|\\");this.createKeywordMapper({keyword:a},
"identifer");this.$rules={start:[{token:"comment",regex:"%.*$"},{token:"text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b",next:"nospell"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",
regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell.text",regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:name|alias|method|S3method|S4method|item|code|preformatted|kbd|pkg|var|env|option|command|author|email|url|source|cite|acronym|href|code|preformatted|link|eqn|deqn|keyword|usage|examples|dontrun|dontshow|figure|if|ifelse|Sexpr|RdOpts|inputencoding|usepackage)\\b"},{token:"keyword",
regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell.text",regex:"\\s+"},{token:"nospell.text",regex:"\\w+"}]}};i.inherits(b,j);k.RDocHighlightRules=b});define("mode/rhtml",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/html").Mode,b=a("ace/tokenizer").Tokenizer,g=a("mode/rhtml_highlight_rules").RHtmlHighlightRules,h=a("mode/background_highlighter").BackgroundHighlighter,f=a("mode/r_code_model").RCodeModel,e=a("ace/mode/matching_brace_outdent").MatchingBraceOutdent,c=a("mode/r_matching_brace_outdent").RMatchingBraceOutdent,m=a("mode/utils"),d=function(a,d){this.$session=d;this.$tokenizer=new b((new g).getRules());
this.codeModel=new f(d,this.$tokenizer,/^r-/,/^<\!--\s*begin.rcode\s*(.*)/,/^\s*end.rcode\s*--\>/);this.$outdent=new e;this.$r_outdent=new c(this.codeModel);this.foldingRules=this.codeModel;this.$sweaveBackgroundHighlighter=new h(d,/^<\!--\s*begin.rcode\s*(?:.*)/,/^\s*end.rcode\s*--\>/)};i.inherits(d,j);(function(){this.insertChunkInfo={value:"<\!--begin.rcode\n\nend.rcode--\>\n",position:{row:0,column:15}};this.checkOutdent=function(a,b,c){return"r"===m.activeMode(a,"html")?this.$r_outdent.checkOutdent(a,
b,c):this.$outdent.checkOutdent(b,c)};this.autoOutdent=function(a,b,c){return"r"===m.activeMode(a,"html")?this.$r_outdent.autoOutdent(a,b,c):this.$outdent.autoOutdent(b,c)};this.getLanguageMode=function(a){return m.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"HTML"};this.$getNextLineIndent=this.getNextLineIndent;this.getNextLineIndent=function(a,b,c,d){return"r"===m.activeMode(a,"html")?this.codeModel.getNextLineIndent(a,b,c,d):this.$getNextLineIndent(a,b,c)};this.$id="mode/rhtml"}).call(d.prototype);
k.Mode=d});define("mode/rhtml_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("mode/r_highlight_rules").RHighlightRules,b=a("ace/mode/html_highlight_rules").HtmlHighlightRules,g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=function(){this.$rules=(new b).getRules();this.$rules.start.unshift({token:"support.function.codebegin",regex:"^<\!--\\s*begin.rcode\\s*(?:.*)",next:"r-start"});this.addRules((new j).getRules(),"r-");this.$rules["r-start"].unshift({token:"support.function.codeend",
regex:"^\\s*end.rcode\\s*--\>",next:"start"})};i.inherits(h,g);k.RHtmlHighlightRules=h});define("mode/rmarkdown",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("mode/markdown").Mode,b=a("ace/tokenizer").Tokenizer,g=a("mode/rmarkdown_highlight_rules").RMarkdownHighlightRules,h=a("ace/mode/matching_brace_outdent").MatchingBraceOutdent,f=a("mode/r_matching_brace_outdent").RMatchingBraceOutdent,e=a("mode/c_cpp_matching_brace_outdent").CppMatchingBraceOutdent,c=a("mode/background_highlighter").BackgroundHighlighter,m=a("mode/r_code_model").RCodeModel,d=a("mode/cpp_code_model").CppCodeModel,
n=a("rstudio/folding/rmarkdown").FoldMode,l=a("ace/mode/folding/cstyle").FoldMode,o=a("mode/utils"),t=a("ace/unicode"),y=function(a,j){var i=this;this.$session=j;this.$tokenizer=new b((new g).getRules());this.$outdent=new h;this.codeModel=new m(j,this.$tokenizer,/^r-/,RegExp(g.prototype.$reRChunkStartString),RegExp(g.prototype.$reChunkEndString));this.$r_outdent=new f(this.codeModel);this.cpp_codeModel=new d(j,this.$tokenizer,/^r-cpp-/,RegExp(g.prototype.$reCppChunkStartString),RegExp(g.prototype.$reChunkEndString));
this.$cpp_outdent=new e(this.cpp_codeModel);var k=new n,t=new l;this.foldingRules={getFoldWidget:function(a,b,c){var d=i.getLanguageMode({row:c,column:0}),e=a.getLine(c);return"Markdown"===d||o.startsWith(e,"```")||0===c?k.getFoldWidget(a,b,c):"C_CPP"===d?t.getFoldWidget(a,b,c):i.codeModel.getFoldWidget(a,b,c)},getFoldWidgetRange:function(a,b,c){var d=i.getLanguageMode({row:c,column:0}),e=a.getLine(c);return"Markdown"===d||o.startsWith(e,"```")||0===c?k.getFoldWidgetRange(a,b,c):"C_CPP"===d?t.getFoldWidgetRange(a,
b,c):i.codeModel.getFoldWidgetRange(a,b,c)}};this.$sweaveBackgroundHighlighter=new c(j,/^(?:[ ]{4})?`{3,}\s*\{(?:.*)\}\s*$/,/^(?:[ ]{4})?`{3,}\s*$/)};i.inherits(y,j);(function(){function a(b){return o.activeMode(b,"markdown")}this.insertChunkInfo={value:"```{r}\n\n```\n",position:{row:0,column:5}};this.getLanguageMode=function(b){b=o.getPrimaryState(this.$session,b.row);b=a(b);return"r"===b?"R":"r-cpp"===b?"C_CPP":"yaml"===b?"YAML":"Markdown"};this.$getNextLineIndent=this.getNextLineIndent;this.getNextLineIndent=
function(b,c,d,e,f){var g=a(b);return"r"===g?this.codeModel.getNextLineIndent(b,c,d,e):"r-cpp"===g?this.cpp_codeModel.getNextLineIndent(b,c,d,e,f):this.$getNextLineIndent(b,c,d)};this.checkOutdent=function(b,c,d){var e=a(b);return"r"===e?this.$r_outdent.checkOutdent(b,c,d):"r-cpp"===e?this.$cpp_outdent.checkOutdent(b,c,d):this.$outdent.checkOutdent(c,d)};this.autoOutdent=function(b,c,d){var e=a(b);return"r"===e?this.$r_outdent.autoOutdent(b,c,d):"r-cpp"===e?this.$cpp_outdent.autoOutdent(b,c,d):this.$outdent.autoOutdent(c,
d)};this.transformAction=function(b,c,d,e,f){b=a(b);if("insertion"===c)if("\n"===f&&"r-cpp"===b){if(c=d.getSelectionRange().start,(e=/^((\s*\/\/+')\s*)/.exec(e.doc.getLine(c.row)))&&d.getSelectionRange().start.column>=e[2].length)return{text:"\n"+e[1]}}else if("R"===f&&"r-cpp"===b&&(c=d.getSelectionRange().start,(e=/^(\s*\/\*{3,}\s*)/.exec(e.doc.getLine(c.row)))&&d.getSelectionRange().start.column>=e[1].length))return{text:"R\n\n*/\n",selection:[1,0,1,0]};return!1};this.tokenRe=RegExp("^["+t.packages.L+
t.packages.Mn+t.packages.Mc+t.packages.Nd+t.packages.Pc+"._]+","g");this.nonTokenRe=RegExp("^(?:[^"+t.packages.L+t.packages.Mn+t.packages.Mc+t.packages.Nd+t.packages.Pc+"._]|\\s])+","g");this.$id="mode/rmarkdown"}).call(y.prototype);k.Mode=y});define("rstudio/folding/rmarkdown",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/folding/fold_mode").FoldMode,b=a("ace/range").Range,g=k.FoldMode=function(){},h=a("mode/utils");i.inherits(g,j);(function(){this.getFoldWidget=function(a,b,f){var d=a.getLine(f),b=a.getState(f),a=0<f?a.getState(f-1):"start";if(h.startsWith(d,"===")||h.startsWith(d,"---")||h.startsWith(d,"..."))return h.startsWith(a,"yaml")?"end":"start";if("$start"===b&&h.startsWith(d,"#"))return"start";
a=d.trim();return h.startsWith(a,"```")?"$start"===b?"end":"start":""};var a=function(a,c,f,d,g){var c=0===f?1:"start"===c||"$start"===c?-1:1,j={row:f,column:0};1===c&&(j.column=a.getLine(f).length);for(var f=f+c,i=0<c?a.getLength():0;!(f===i);){var k=a.getLine(f).trim();if(h.startsWith(k,d))break;if(g&&h.startsWith(k,g))break;f+=c}d={row:f,column:0};-1===c&&(d.column=a.getLine(f).length);return 1===c?b.fromPoints(j,d):b.fromPoints(d,j)};this.$getFoldWidgetRange=function(e,c,g){var d=e.getState(g),
c=e.getLine(g),j=c.trim();if(h.startsWith(c,"```"))return a(e,d,g,"```");var l=0<g?e.getState(g-1):"start",j=0===g&&"---"===j,l=h.startsWith(l,"yaml");if(j||l)return a(e,d,g,"---",j?"...":void 0);if("="===c[0])l=1;else if("-"===c[0])l=2;else{l=/^(#+)(?:.*)$/.exec(c);if(!l)return;l=l[1].length}if(null!==l){a:{for(var j=e.getLength(),i=g+1;i<j;i++)if(e.getState(i)===d){var k=e.getLine(i);if(1===l&&/^[=]{3,}\s*/.test(k)||2===l&&/^[-]{3,}\s*/.test(k)){d=i-2;break a}if((k=/^(#+)(?:.*)$/.exec(k))&&k[1].length<=
l){d=i-1;break a}}d=j}return new b(g,c.length,d,e.getLine(d).length)}};this.getFoldWidgetRange=function(a,b,f){a=this.$getFoldWidgetRange(a,b,f);if(!(null==a||a.start.row===a.end.row))return a}}).call(g.prototype)});define("mode/rmarkdown_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("mode/r_highlight_rules").RHighlightRules,b=a("mode/c_cpp_highlight_rules").c_cppHighlightRules,g=a("mode/markdown_highlight_rules").MarkdownHighlightRules,h=a("ace/mode/text_highlight_rules").TextHighlightRules,f=a("ace/mode/yaml_highlight_rules").YamlHighlightRules,e=a("mode/utils"),c=function(){this.$rules=(new g).getRules();e.embedRules(this,j,"r",this.$reRChunkStartString,this.$reChunkEndString,
["start","listblock","allowBlock"]);e.embedRules(this,b,"r-cpp",this.$reCppChunkStartString,this.$reChunkEndString,["start","listblock","allowBlock"]);this.$rules.$start=this.$rules.start.slice();for(var a in this.$rules)for(var c=this.$rules[a],h=0;h<c.length;h++)"start"===c[h].next&&(c[h].next="$start");e.embedRules(this,f,"yaml","---","(?:---|\\.\\.\\.)");this.$rules["yaml-start"].unshift({token:["string"],regex:RegExp("((?:January|February|March|April|May|June|July|August|September|October|November|December)\\s+\\d+(?:st|nd|rd|s|n|r)?(?:\\s*(?:,)?(?:\\s*\\d+)?)?)")})};
i.inherits(c,h);(function(){this.$reRChunkStartString="^(?:[ ]{4})?`{3,}\\s*\\{[Rr](.*)\\}\\s*$";this.$reCppChunkStartString="^(?:[ ]{4})?`{3,}\\s*\\{[Rr](?:.*)engine\\s*\\=\\s*['\"]Rcpp['\"](?:.*)\\}\\s*$|^(?:[ ]{4})?`{3,}\\s*\\{[Rr]cpp(?:.*)\\}\\s*$";this.$reChunkEndString="^(?:[ ]{4})?`{3,}\\s*$"}).call(c.prototype);k.RMarkdownHighlightRules=c});define("mode/stan",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("ace/mode/matching_brace_outdent").MatchingBraceOutdent,h=a("mode/stan_highlight_rules").StanHighlightRules,f=a("ace/mode/folding/cstyle").FoldMode,e=function(){this.$highlightRules=new h;this.$tokenizer=new b(this.$highlightRules.getRules());this.$outdent=new g;this.foldingRules=new f};i.inherits(e,j);(function(){this.lineCommentStart=["//","#"];this.blockComment=
{start:"/*",end:"*/"};this.toggleCommentLines=function(a,b,d,e){for(var f=!0,a=/^(\s*)\/\//,g=d;g<=e;g++)if(!a.test(b.getLine(g))){f=!1;break}if(f){f=new Range(0,0,0,0);for(g=d;g<=e;g++)d=b.getLine(g).match(a),f.start.row=g,f.end.row=g,f.end.column=d[0].length,b.replace(f,d[1])}else b.indentRows(d,e,"//")};this.getLanguageMode=function(){return"Stan"};this.getNextLineIndent=function(a,b,d){var e=this.$getIndent(b),f=this.getTokenizer().getLineTokens(b,a).tokens;if(f.length&&"comment"==f[f.length-
1].type)return e;"start"==a&&b.match(/^.*(?:[\{\(\[])\s*$/)&&(e+=d);return e};this.checkOutdent=function(a,b,d){return this.$outdent.checkOutdent(b,d)};this.autoOutdent=function(a,b,d){this.$outdent.autoOutdent(b,d)};this.$id="mode/stan"}).call(e.prototype);k.Mode=e});define("mode/stan_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/lib/lang"),b=a("ace/mode/text_highlight_rules").TextHighlightRules,g=function(){var a=j.arrayToMap(["print","increment_log_prob","integrate_ode","reject"]);this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"#.*$"},{token:"comment",merge:!0,regex:"\\/\\*",next:"comment"},{token:"keyword.blockid",regex:"functions|data|transformed\\s+data|parameters|transformed\\s+parameters|model|generated\\s+quantities"},
{token:"string",regex:'["][^"]*["]'},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"keyword.operator",regex:"\\bT(?=\\s*\\[)"},{token:function(b){return a.hasOwnProperty(b)?"keyword":"support.function"},regex:"[a-zA-Z$][a-zA-Z0-9_$]*\\b(?=\\s*\\()"},{token:this.createKeywordMapper({keyword:"for|in|while|if|then|else|return|lower|upper|print|increment_log_prob|integrate_ode|reject","storage.type":"int|real|vector|simplex|unit_vector|ordered|positive_ordered|row_vector|matrix|cholesky_factor_cov|cholesky_factor_corr|corr_matrix|cov_matrix|void",
"variable.language":"lp__","function":"Phi|Phi_approx|abs|acos|acosh|append_col|append_row|asin|asinh|atan|atan2|atanh|bernoulli_ccdf_log|bernoulli_cdf|bernoulli_cdf_log|bernoulli_log|bernoulli_logit_log|bernoulli_rng|bessel_first_kind|bessel_second_kind|beta_binomial_ccdf_log|beta_binomial_cdf|beta_binomial_cdf_log|beta_binomial_log|beta_binomial_rng|beta_ccdf_log|beta_cdf|beta_cdf_log|beta_log|beta_rng|binary_log_loss|binomial_ccdf_log|binomial_cdf|binomial_cdf_log|binomial_coefficient_log|binomial_log|binomial_logit_log|binomial_rng|block|categorical_log|categorical_logit_log|categorical_rng|cauchy_ccdf_log|cauchy_cdf|cauchy_cdf_log|cauchy_log|cauchy_rng|cbrt|ceil|chi_square_ccdf_log|chi_square_cdf|chi_square_cdf_log|chi_square_log|chi_square_rng|cholesky_decompose|col|cols|columns_dot_product|columns_dot_self|cos|cosh|crossprod|csr_extract_u|csr_extract_v|csr_extract_w|csr_matrix_times_vector|csr_to_dense_matrix|cumulative_sum|determinant|diag_matrix|diag_post_multiply|diag_pre_multiply|diagonal|digamma|dims|dirichlet_log|dirichlet_rng|distance|dot_product|dot_self|double_exponential_ccdf_log|double_exponential_cdf|double_exponential_cdf_log|double_exponential_log|double_exponential_rng|e|eigenvalues_sym|eigenvectors_sym|erf|erfc|exp|exp2|exp_mod_normal_ccdf_log|exp_mod_normal_cdf|exp_mod_normal_cdf_log|exp_mod_normal_log|exp_mod_normal_rng|expm1|exponential_ccdf_log|exponential_cdf|exponential_cdf_log|exponential_log|exponential_rng|fabs|falling_factorial|fdim|floor|fma|fmax|fmin|fmod|frechet_ccdf_log|frechet_cdf|frechet_cdf_log|frechet_log|frechet_rng|gamma_ccdf_log|gamma_cdf|gamma_cdf_log|gamma_log|gamma_p|gamma_q|gamma_rng|gaussian_dlm_obs_log|get_lp|gumbel_ccdf_log|gumbel_cdf|gumbel_cdf_log|gumbel_log|gumbel_rng|head|hypergeometric_log|hypergeometric_rng|hypot|if_else|int_step|inv|inv_chi_square_ccdf_log|inv_chi_square_cdf|inv_chi_square_cdf_log|inv_chi_square_log|inv_chi_square_rng|inv_cloglog|inv_gamma_ccdf_log|inv_gamma_cdf|inv_gamma_cdf_log|inv_gamma_log|inv_gamma_rng|inv_logit|inv_phi|inv_sqrt|inv_square|inv_wishart_log|inv_wishart_rng|inverse|inverse_spd|is_inf|is_nan|lbeta|lgamma|lkj_corr_cholesky_log|lkj_corr_cholesky_rng|lkj_corr_log|lkj_corr_rng|lmgamma|log|log10|log1m|log1m_exp|log1m_inv_logit|log1p|log1p_exp|log2|log_determinant|log_diff_exp|log_falling_factorial|log_inv_logit|log_mix|log_rising_factorial|log_softmax|log_sum_exp|logistic_ccdf_log|logistic_cdf|logistic_cdf_log|logistic_log|logistic_rng|logit|lognormal_ccdf_log|lognormal_cdf|lognormal_cdf_log|lognormal_log|lognormal_rng|machine_precision|max|mdivide_left_tri_low|mdivide_right_tri_low|mean|min|modified_bessel_first_kind|modified_bessel_second_kind|multi_gp_cholesky_log|multi_gp_log|multi_normal_cholesky_log|multi_normal_cholesky_rng|multi_normal_log|multi_normal_prec_log|multi_normal_rng|multi_student_t_log|multi_student_t_rng|multinomial_log|multinomial_rng|multiply_log|multiply_lower_tri_self_transpose|neg_binomial_2_ccdf_log|neg_binomial_2_cdf|neg_binomial_2_cdf_log|neg_binomial_2_log|neg_binomial_2_log_log|neg_binomial_2_log_rng|neg_binomial_2_rng|neg_binomial_ccdf_log|neg_binomial_cdf|neg_binomial_cdf_log|neg_binomial_log|neg_binomial_rng|negative_infinity|normal_ccdf_log|normal_cdf|normal_cdf_log|normal_log|normal_rng|not_a_number|num_elements|ordered_logistic_log|ordered_logistic_rng|owens_t|pareto_ccdf_log|pareto_cdf|pareto_cdf_log|pareto_log|pareto_rng|pareto_type_2_ccdf_log|pareto_type_2_cdf|pareto_type_2_cdf_log|pareto_type_2_log|pareto_type_2_rng|pi|poisson_ccdf_log|poisson_cdf|poisson_cdf_log|poisson_log|poisson_log_log|poisson_log_rng|poisson_rng|positive_infinity|pow|prod|qr_Q|qr_R|quad_form|quad_form_diag|quad_form_sym|rank|rayleigh_ccdf_log|rayleigh_cdf|rayleigh_cdf_log|rayleigh_log|rayleigh_rng|rep_array|rep_matrix|rep_row_vector|rep_vector|rising_factorial|round|row|rows|rows_dot_product|rows_dot_self|scaled_inv_chi_square_ccdf_log|scaled_inv_chi_square_cdf|scaled_inv_chi_square_cdf_log|scaled_inv_chi_square_log|scaled_inv_chi_square_rng|sd|segment|sin|singular_values|sinh|size|skew_normal_ccdf_log|skew_normal_cdf|skew_normal_cdf_log|skew_normal_log|skew_normal_rng|softmax|sort_asc|sort_desc|sort_indices_asc|sort_indices_desc|sqrt|sqrt2|square|squared_distance|step|student_t_ccdf_log|student_t_cdf|student_t_cdf_log|student_t_log|student_t_rng|sub_col|sub_row|sum|tail|tan|tanh|tcrossprod|tgamma|to_array_1d|to_array_2d|to_matrix|to_row_vector|to_vector|trace|trace_gen_quad_form|trace_quad_form|trigamma|trunc|uniform_ccdf_log|uniform_cdf|uniform_cdf_log|uniform_log|uniform_rng|variance|von_mises_log|von_mises_rng|weibull_ccdf_log|weibull_cdf|weibull_cdf_log|weibull_log|weibull_rng|wiener_log|wishart_log|wishart_rng|bernoulli|bernoulli_logit|beta|beta_binomial|binomial|binomial_logit|categorical|categorical_logit|cauchy|chi_square|dirichlet|double_exponential|exp_mod_normal|exponential|frechet|gamma|gaussian_dlm_obs|gumbel|hypergeometric|inv_chi_square|inv_gamma|inv_wishart|lkj_corr|lkj_corr_cholesky|logistic|lognormal|multi_gp|multi_gp_cholesky|multi_normal|multi_normal_cholesky|multi_normal_prec|multi_student_t|multinomial|neg_binomial|neg_binomial_2|neg_binomial_2_log|normal|ordered_logistic|pareto|pareto_type_2|poisson|poisson_log|rayleigh|scaled_inv_chi_square|skew_normal|student_t|uniform|von_mises|weibull|wiener|wishart"},
"identifier",!1),regex:"[a-zA-Z$][a-zA-Z0-9_$]*\\b\\b"},{token:"keyword.operator",regex:"<-|~"},{token:"keyword.operator",regex:"\\|\\||&&|==|!=|<=?|>=?|\\+|-|\\.?\\*|\\.?/|\\\\|\\^|!|'|%"},{token:"punctuation.operator",regex:":|,|;|="},{token:"paren.lparen.keyword.operator",regex:"[\\[\\(\\{]"},{token:"paren.rparen.keyword.operator",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",merge:!0,regex:".+"}]}};i.inherits(g,b);
k.StanHighlightRules=g});define("mode/sweave",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=a("mode/background_highlighter").BackgroundHighlighter,f=a("mode/sweave_highlight_rules").SweaveHighlightRules,e=a("mode/r_code_model").RCodeModel,c=a("ace/mode/matching_brace_outdent").MatchingBraceOutdent,m=a("mode/r_matching_brace_outdent").RMatchingBraceOutdent,d=a("ace/unicode"),n=a("mode/utils");
a("mode/auto_brace_insert");var l=function(a,d){this.$tokenizer=a?new b((new g).getRules()):new b((new f).getRules());this.$outdent=new c;this.codeModel=new e(d,this.$tokenizer,/^r-/,/<<(.*?)>>/,/^\s*@\s*$/);this.$r_outdent=new m(this.codeModel);this.foldingRules=this.codeModel;this.$sweaveBackgroundHighlighter=new h(d,/^\s*<<.*>>=.*$/,/^\s*@(?:\s.*)?$/);this.$session=d};i.inherits(l,j);(function(){this.tokenRe=RegExp("^["+d.packages.L+d.packages.Mn+d.packages.Mc+d.packages.Nd+d.packages.Pc+"._]+",
"g");this.nonTokenRe=RegExp("^(?:[^"+d.packages.L+d.packages.Mn+d.packages.Mc+d.packages.Nd+d.packages.Pc+"._]|\\s])+","g");this.$complements={"(":")","[":"]",'"':'"',"'":"'","{":"}"};this.$reOpen=/^[(["'{]$/;this.$reClose=/^[)\]"'}]$/;this.insertChunkInfo={value:"<<>>=\n\n@\n",position:{row:0,column:2}};this.getLanguageMode=function(a){return n.getPrimaryState(this.$session,a.row).match(/^r-/)?"R":"TeX"};this.$getNextLineIndent=this.getNextLineIndent;this.getNextLineIndent=function(a,b,c,d){return"r"===
n.activeMode(a,"tex")?this.codeModel.getNextLineIndent(a,b,c,d):this.$getNextLineIndent(a,b,c)};this.checkOutdent=function(a,b,c){return"r"===n.activeMode(a,"tex")?this.$r_outdent.checkOutdent(a,b,c):this.$outdent.checkOutdent(b,c)};this.autoOutdent=function(a,b,c){return"r"===n.activeMode(a,"tex")?this.$r_outdent.autoOutdent(a,b,c):this.$outdent.autoOutdent(b,c)};this.allowAutoInsert=this.smartAllowAutoInsert;this.$id="mode/sweave"}).call(l.prototype);k.Mode=l});define("mode/sweave_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("mode/tex_highlight_rules").TexHighlightRules,b=a("mode/r_highlight_rules").RHighlightRules,g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=function(){this.$rules=(new j).getRules();this.$rules.start.unshift({token:"comment.codebegin",regex:"^\\s*\\<\\<.*\\>\\>=.*$",next:"r-start"});this.$rules.start.unshift({token:"comment",regex:"^\\s*@(?:\\s.*)?$"});this.addRules((new b).getRules(),
"r-");this.$rules["r-start"].unshift({token:"comment.codeend",regex:"^\\s*@(?:\\s.*)?$",next:"start"});this.$rules["r-start"].unshift({token:"comment.codebegin",regex:"^\\<\\<.*\\>\\>=.*$",next:"r-start"})};i.inherits(h,g);k.SweaveHighlightRules=h});define("mode/tex",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("ace/mode/text_highlight_rules").TextHighlightRules,h=a("mode/tex_highlight_rules").TexHighlightRules,f=a("ace/mode/matching_brace_outdent").MatchingBraceOutdent,e=function(a){this.$tokenizer=a?new b((new g).getRules()):new b((new h).getRules());this.$outdent=new f};i.inherits(e,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)};
this.allowAutoInsert=function(){return!1}}).call(e.prototype);k.Mode=e});define("mode/tex_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop");a("ace/lib/lang");var j=a("ace/mode/text_highlight_rules").TextHighlightRules,b=function(a){a||(a="text");this.$rules={start:[{token:"comment",regex:"%.*$"},{token:a,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b",
next:"nospell"},{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])}]"},{token:a,regex:"\\s+"}],nospell:[{token:"comment",regex:"%.*$",next:"start"},{token:"nospell."+a,regex:"\\\\[$&%#\\{\\}]"},{token:"keyword",regex:"\\\\(?:documentclass|usepackage|newcounter|setcounter|addtocounter|value|arabic|stepcounter|newenvironment|renewenvironment|ref|vref|eqref|pageref|label|cite[a-zA-Z]*|tag|begin|end|bibitem)\\b"},
{token:"keyword",regex:"\\\\(?:[a-zA-z0-9]+|[^a-zA-z0-9])",next:"start"},{token:"paren.keyword.operator",regex:"[[({]"},{token:"paren.keyword.operator",regex:"[\\])]"},{token:"paren.keyword.operator",regex:"}",next:"start"},{token:"nospell."+a,regex:"\\s+"},{token:"nospell."+a,regex:"\\w+"}]}};i.inherits(b,j);k.TexHighlightRules=b});define("mode/token_cursor",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("mode/utils"),b=function(a,b,c){this.$tokens=a;this.$row=b||0;this.$offset=c||0};(function(){this.cloneCursor=function(){return new b(this.$tokens,this.$row,this.$offset)};var a=j.isArray,e=j.contains,c={"(":")","{":"}","<":">","[":"]",")":"(","}":"{",">":"<","]":"["},g=["(","[","{"],d=[")","]","}"];this.moveToStartOfRow=function(a){this.$row=a;this.$offset=0};this.moveToPreviousToken=function(){if(0>=
this.$row&&0>=this.$offset)return this.$offset=this.$row=0,!1;if(0<this.$offset)return this.$offset--,!0;for(var a=this.$row-1,b=0;0<=a;){var c=this.$tokens[a];if(c&&0!==c.length){b=c.length;break}a--}if(0>a)return!1;this.$row=a;this.$offset=b-1;return!0};this.moveToNextToken=function(a){"undefined"===typeof a&&(a=(this.$tokens||[]).length);if(this.$row>a)return!1;null==this.$tokens[this.$row]&&this.$codeModel&&this.$codeModel.$tokenizeUpToRow&&this.$codeModel.$tokenizeUpToRow.call(this.$codeModel,
a);var b=this.$tokens[this.$row];if(b&&this.$offset<b.length-1)return this.$offset++,!0;for(var c=this.$row+1;c<=a&&!((b=this.$tokens[c])&&0!==b.length);)c++;if(c>a)return!1;this.$row=c;this.$offset=0;return!0};this.peekBwd=function(a){"undefined"===typeof a&&(a=1);for(var b=this.cloneCursor(),c=0;c<a;c++)if(!b.moveToPreviousToken())return b.$invalidate();return b};this.peekFwd=function(a){"undefined"===typeof a&&(a=1);for(var b=this.cloneCursor(),c=0;c<a;c++)if(!b.moveToNextToken())return b.$invalidate();
return b};this.$invalidate=function(){this.$column=this.$row=0;this.$tokens=[];return this};this.seekToNearestToken=function(a,b){if(a.row>b)return!1;this.$row=a.row;var c=this.$tokens[this.$row]||[];for(this.$offset=0;this.$offset<c.length;this.$offset++)if(c[this.$offset].column>=a.column)return!0;return a.row<b?this.moveToNextToken(b):!1};this.bwdToNearestToken=function(a){this.$row=a.row;this.$offset=a.column;for(var b=this.$tokens[this.$row]||[];0<=this.$offset;this.$offset--){var c=b[this.$offset];
if("undefined"!==typeof c&&c.column<=a.column)return!0}return this.moveToPreviousToken()};this.bwdToMatchingToken=function(){var a=this.currentValue();if(!e(d,a))return!1;for(var b=c[a],f=0;this.moveToPreviousToken();){var g=this.currentValue();if(g===b){if(0===f)return!0;f--}else g===a&&f++}return!1};this.fwdToMatchingToken=function(){var a=this.currentValue();if(!e(g,a))return!1;for(var b=c[a],d=0;this.moveToNextToken();){var f=this.currentValue();if(f===b){if(0===d)return!0;d--}else f===a&&d++}return!1};
this.equals=function(a){return this.$row===a.$row&&this.$offset===a.$offset};this.moveBackwardOverMatchingParens=function(){if(!this.moveToPreviousToken())return!1;if(")"!==this.currentValue())return this.moveToNextToken(),!1;for(var a=!1,b=0;this.moveToPreviousToken();){var c=this.currentValue();if("("===c){if(0===b){a=!0;break}b--}else")"===c&&b++}return a};this.findToken=function(a,b){do{var c=this.currentToken();if(c&&a(c))return c}while(this.moveToNextToken(b));return null};this.findTokenBwd=
function(a,b){do{var c=this.currentToken();if(c&&a(c))return c}while(this.moveToPreviousToken(b));return null};this.currentToken=function(){var a=this.$tokens[this.$row];if(null==a)return{};a=a[this.$offset];return null==a?{}:a};this.currentValue=function(){return this.currentToken().value};this.currentType=function(){return this.currentToken().type};this.hasType=function(){var a=this.currentType();if(null==a)return!1;for(var b=0;b<arguments.length;b++){var c=arguments[b];if(a===c||-1!==a.indexOf(c+
".")||-1!==a.indexOf("."+c))return!0}return!1};this.currentPosition=function(){var a=this.currentToken();return null==a?null:{row:this.$row,column:a.column}};this.isFirstSignificantTokenOnLine=function(){return 0===this.$offset};this.isLastSignificantTokenOnLine=function(){return this.$offset==(this.$tokens[this.$row]||[]).length-1};this.bwdUntil=function(a){for(;!a(this);)this.moveToPreviousToken()};this.bwdWhile=function(a){for(;a(this);)this.moveToPreviousToken()};this.moveToPosition=function(a,
b){var c=a.row,d=a.column,e=this.$tokens[c];null==e&&this.$codeModel&&this.$codeModel.$tokenizeUpToRow&&(this.$codeModel.$tokenizeUpToRow.call(this.$codeModel,c),e=this.$tokens[c]);if(e&&0<e.length&&e[0].column<=d){for(var f=0;f<e.length&&!(e[f].column>=d);f++);this.$row=c;this.$offset=f===e.length?f-1:b&&e[f].column===d?f:f-1;return!0}d=this.cloneCursor();d.$row=c;d.$offset=0;return d.moveToPreviousToken()?(this.$row=d.$row,this.$offset=d.$offset,!0):!1};this.findOpeningBracket=function(b,c){a(b)||
(b=[b]);var d=this.cloneCursor();do if(!d.bwdToMatchingToken()){var e=d.currentValue();if(c&&"{"===e)break;for(var g=0;g<b.length;g++)if(e===b[g])return this.$row=d.$row,this.$offset=d.$offset,!0}while(d.moveToPreviousToken());return!1};this.findOpeningBracketCountCommas=function(b,c){a(b)||(b=[b]);var d=this.cloneCursor(),e=0;do if(!d.bwdToMatchingToken()){var g=d.currentValue();","===g&&(e+=1);if(c&&"{"===g)break;for(var h=0;h<b.length;h++)if(g===b[h])return this.$row=d.$row,this.$offset=d.$offset,
e}while(d.moveToPreviousToken());return-1}}).call(b.prototype);var g=function(a,b,c,g){this.$tokens=a;this.$row=b||0;this.$offset=c||0;this.$codeModel=g};i.mixin(g.prototype,b.prototype);(function(){this.cloneCursor=function(){return new g(this.$tokens,this.$row,this.$offset,this.$codeModel)};var a=j.contains;this.bwdOverConstNoexceptDecltype=function(){var a=this.cloneCursor();if("{"!==a.currentValue()||!a.moveToPreviousToken())return!1;var b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&
b.moveToPreviousToken()&&"decltype"===b.currentValue()&&b.moveToPreviousToken()&&(a.$row=b.$row,a.$offset=b.$offset);b=a.cloneCursor();")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&"noexcept"===b.currentValue()&&(a.$row=b.$row,a.$offset=b.$offset);if("noexcept"===a.currentValue()&&!a.moveToPreviousToken()||"const"===a.currentValue()&&!a.moveToPreviousToken()||")"===a.currentValue()&&!a.moveToNextToken())return!1;this.$row=a.$row;this.$offset=a.$offset;return!0};this.bwdToMatchingArrow=
function(){if(">"!==this.currentValue())return!1;for(var a=0,b=this.cloneCursor();b.moveToPreviousToken();)if("<"===b.currentValue()){if(0===a)return this.$row=b.$row,this.$offset=b.$offset,!0;a--}else">"===b.currentValue()&&a++;return!1};this.bwdOverClassySpecifiers=function(){var a=this.currentValue();(":"===a||","===a||"{"===a)&&this.moveToPreviousToken();do{this.bwdToMatchingArrow()&&this.moveToPreviousToken();var a=this.currentType(),b=this.currentValue();if(!("keyword"===a||"::"===b||"identifier"===
a||"constant"===a))break;if("class"===b||"struct"===b||"enum"===b||":"===b||","===b)return!0}while(this.moveToPreviousToken());return!1};this.bwdOverClassInheritance=function(){var a=this.cloneCursor();return b(a,this)};var b=function(a,f){a.bwdOverClassySpecifiers();var d=a.currentValue();if(","===d)return b(a,f);return":"===d?(f.$row=a.$row,f.$offset=a.$offset,!0):!1};this.bwdOverInitializationList=function(){return this.doBwdOverInitializationList(this.cloneCursor(),this)};this.doBwdOverInitializationList=
function(b,e){b.moveBackwardOverMatchingParens();if(!b.moveBackwardOverMatchingParens()&&!b.moveToPreviousToken())return!1;for(;"keyword"===b.currentType();)if(!b.moveToPreviousToken())return!1;if(b.moveToPreviousToken()){var d=b.currentValue();if(","===d)return this.doBwdOverInitializationList(b,e);if(":"===d&&(d=b.peekBwd().currentValue(),!a(["public","private","protected"],d)))return e.$row=b.$row,e.$offset=b.$offset,!0}return!1}}).call(g.prototype);var h=function(a,b,c,g){this.$tokens=a;this.$row=
b||0;this.$offset=c||0;this.$codeModel=g};i.mixin(h.prototype,b.prototype);(function(){function a(b){return 0===b.indexOf("'")?b.lastIndexOf("'")===b.length-1:0===b.indexOf('"')?b.lastIndexOf('"')===b.length-1:!1}function b(a){return"("===a||"["===a||"{"===a}function c(a){return")"===a||"]"===a||"}"===a}this.cloneCursor=function(){return new h(this.$tokens,this.$row,this.$offset,this.$codeModel)};var g=j.contains;this.isValidAsIdentifier=function(){var a=this.currentType();return this.hasType("identifier",
"constant")||"symbol"===a||"keyword"===a||"string"===a};this.isExtractionOperator=function(){var a=this.currentValue();return"$"===a||"@"===a||"::"===a||":::"===a};this.findStartOfEvaluationContext=function(){var a=this.cloneCursor();do if(!a.bwdToMatchingToken()){if(a.isValidAsIdentifier()){if(!a.moveToPreviousToken())break;if(a.isExtractionOperator())continue;if(!a.moveToNextToken())return!1;break}return!1}while(a.moveToPreviousToken());this.$row=a.$row;this.$offset=a.$offset;return!0};this.isLookingAtBinaryOp=
function(){var a=this.currentType();return"keyword.operator"===a||"keyword.operator.infix"===a};this.moveToStartOfCurrentStatement=function(){for(var a=this.cloneCursor();a.isLookingAtBinaryOp();)if(!a.moveToPreviousToken())return!1;do if(!a.bwdToMatchingToken()){if(a.isValidAsIdentifier()){if(!a.moveToPreviousToken())break;if(a.isLookingAtBinaryOp()){for(;a.isLookingAtBinaryOp();)if(!a.moveToPreviousToken())return!1;if(!a.moveToNextToken())return!1;continue}if(!a.moveToNextToken())return!1;break}return!1}while(a.moveToPreviousToken());
this.$row=a.$row;this.$offset=a.$offset;return!0};this.moveToEndOfCurrentStatement=function(){for(var a=this.cloneCursor();a.isLookingAtBinaryOp();)if(!a.moveToNextToken())return!1;do if(!a.fwdToMatchingToken()){if(a.isValidAsIdentifier()){if(!a.moveToNextToken())break;if(a.isLookingAtBinaryOp()){for(;a.isLookingAtBinaryOp();)if(!a.moveToNextToken())return!1;if(!a.moveToPreviousToken())return!1;continue}if(!a.moveToPreviousToken())return!1;break}return!1}while(a.moveToNextToken());this.$row=a.$row;
this.$offset=a.$offset;return!0};this.isSingleLineString=function(){return a(this.currentValue())};this.isLeftBracket=function(){return b(this.currentValue())};this.isRightBracket=function(){return c(this.currentValue())};this.isValidForEndOfStatement=function(){if("paren.keyword.operator"===this.currentType())return c(this.currentValue());var b=this.currentValue();return a(b)||this.hasType("identifier","constant","variable")};this.isValidForStartOfStatement=function(){if("paren.keyword.operator"===
this.currentType())return b(this.currentValue());var c=this.currentValue();return a(c)||this.hasType("identifier","constant","variable")};this.isConditionalControlFlowKeyword=function(){var a=this.currentValue();return g(["if","for","while","function"],a)};this.isControlFlowKeyword=function(){var a=this.currentValue();return g("if,for,while,else,function,repeat,break,next".split(","),a)};this.isAtStartOfNewExpression=function(a){var b=this.cloneCursor();return!b.moveToPreviousToken()?a:this.isValidForStartOfStatement()&&
b.isValidForEndOfStatement()&&this.$row>b.$row?b.isControlFlowKeyword()||")"===b.currentValue()&&b.bwdToMatchingToken()&&b.moveToPreviousToken()&&b.isConditionalControlFlowKeyword()?!1:!0:!1}}).call(h.prototype);k.TokenCursor=b;k.CppTokenCursor=g;k.RTokenCursor=h});define("mode/token_utils",["require","exports","module"],function(a,k){var i=function(a,b,g,h,f,e){this.$doc=a;this.$tokenizer=b;this.$tokens=g;this.$endStates=Array(a.getLength());this.$statePattern=h;this.$codeBeginPattern=f;this.$codeEndPattern=e};(function(){this.getTokenForPos=function(a,b,g){this.$tokenizeUpToRow(a.row);if(this.$tokens.length<=a.row)return null;for(var h=this.$tokens[a.row],f=0;f<h.length;f++){var e=h[f];if(b&&a.column==e.column)return e;if(a.column<=e.column)break;if(g&&a.column==
e.column+e.value.length||a.column<e.column+e.value.length)return e}return null};this.$tokenizeUpToRow=function(a){for(var a=Math.min(a,this.$doc.getLength()-1),b=0,g=!0;b<=a;b++)if(!g||!this.$endStates[b]){var g=!1,h=0===b?"start":this.$endStates[b-1],f=this.$tokenizer.getLineTokens(this.$doc.getLine(b),h);this.$tokens[b]=!this.$statePattern||this.$statePattern.test(f.state)||this.$statePattern.test(h)?this.$filterWhitespaceAndComments(f.tokens):[];f.state===this.$endStates[b]?g=!0:this.$endStates[b]=
f.state}g||b<this.$tokens.length&&this.$invalidateRow(b);return!0};this.$filterWhitespaceAndComments=function(a){for(var a=a.filter(function(a){a=/\bcode(?:begin|end)\b/.test(a.type)||/\bsectionhead\b/.test(a.type)?!1:/^\s*$/.test(a.value)||a.type.match(/\b(?:ace_virtual-)?comment\b/);return!a}),b=a.length-1;0<=b;b--)if(1<a[b].value.length&&/\bparen\b/.test(a[b].type)){var g=a[b];a.splice(b,1);for(var h=g.value.length-1;0<=h;h--){var f={type:g.type,value:g.value.charAt(h),column:g.column+h};a.splice(b,
0,f)}}return a};this.$invalidateRow=function(a){this.$tokens[a]=null;this.$endStates[a]=null};this.$insertNewRows=function(a,b){for(var g=[a,0],h=0;h<b;h++)g.push(null);this.$tokens.splice.apply(this.$tokens,g);this.$endStates.splice.apply(this.$endStates,g)};this.$removeRows=function(a,b){this.$tokens.splice(a,b);this.$endStates.splice(a,b)};this.$walkParens=function(a,b,g){var h=/\bparen\b/;return a<b?function(){for(;a<=b;a++)for(var f=this.$tokens[a],e=0;e<f.length;e++)if(h.test(f[e].type)&&!g(f[e].value,
{row:a,column:f[e].column}))return!1;return!0}.call(this):function(){a=Math.max(0,a);for(b=Math.max(0,b);a>=b;a--)for(var f=this.$tokens[a],e=f.length-1;0<=e;e--)if(h.test(f[e].type)&&!g(f[e].value,{row:a,column:f[e].column}))return!1;return!0}.call(this)};this.$walkParensBalanced=function(a,b,g,h,f){var e=[],c=null;this.$walkParens(a,b,function(a,b){if(g&&g(e,a,b))return c=b,!1;if(/[\[({]/.test(a))if(e[e.length-1]===f[a])e.pop();else return!0;else e.push(a);return h&&h(e,a,b)?(c=b,!1):!0});return c};
this.$findNextSignificantToken=function(a,b){if(0==this.$tokens.length)return null;for(var b=Math.min(b,this.$tokens.length-1),g=a.row,h=a.column;g<=b;g++){for(var f=this.$tokens[g],e=0;e<f.length;e++)if(f[e].column+f[e].value.length>h)return{token:f[e],row:g,column:Math.max(f[e].column,h),offset:e};h=0}return null};this.findNextSignificantToken=function(a){return this.$findNextSignificantToken(a,this.$tokens.length-1)};this.$findPreviousSignificantToken=function(a,b){if(0==this.$tokens.length)return null;
for(var b=Math.max(0,b),g=Math.min(a.row,this.$tokens.length-1);g>=b;g--){var h=this.$tokens[g];if(0!=h.length){if(g!=a.row)return{row:g,column:h[h.length-1].column,token:h[h.length-1],offset:h.length-1};for(var f=h.length-1;0<=f;f--)if(h[f].column<a.column)return{row:g,column:h[f].column,token:h[f],offset:f}}}return null}}).call(i.prototype);k.TokenUtils=i});define("mode/utils",["require","exports","module"],function(a,k){a("ace/range");var i=a("ace/token_iterator").TokenIterator,j=a("ace/unicode").packages;(function(){var a=this,g=RegExp("^["+j.L+j.Mn+j.Mc+j.Nd+j.Pc+"._]+","");this.construct=function(a,b){function c(){return a.apply(this,b)}c.prototype=a.prototype;return new c};this.contains=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1};this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};this.asArray=
function(f){return a.isArray(f)?f:[f]};this.getPrimaryState=function(f,e){return a.primaryState(f.getState(e))};this.primaryState=function(f){return a.isArray(f)?f[0]:f};this.activeMode=function(f,e){var c=a.primaryState(f),g=c.lastIndexOf("-");return-1===g?e:c.substring(0,g).toLowerCase()};this.endsWith=function(a,b){return-1!==a.indexOf(b,a.length-b.length)};this.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};this.embedRules=function(f,e,c,g,d,h){"undefined"===
typeof h&&(h=["start"]);for(var h=a.asArray(h),i=f.$rules,j=0;j<h.length;j++)i[h[j]].unshift({token:"support.function.codebegin",regex:g,next:c+"-start"});f.embedRules(e,c+"-",[{token:"support.function.codeend",regex:d,next:"start"}])};this.isSingleLineString=function(a){if(2>a.length)return!1;var b=a[0];return"'"!==b&&'"'!==b||a[a.length-1]!==b?!1:"\\"===a[a.length-2]&&"\\"!==a[a.length-3]?!1:!0};this.createTokenIterator=function(a){var b=a.getSelectionRange().start,a=a.getSession();return new i(a,
b.row,b.column)};this.isWordCharacter=function(a){return g.test(a)};var h={"'":"'",'"':'"',"`":"`","{":"}","(":")","[":"]","<":">","}":"{",")":"(","]":"[",">":"<"};this.isOpeningBracket=function(a,b){return"{"===a||"("===a||"["===a||!!b&&"<"===a};this.isClosingBracket=function(a,b){return"}"===a||")"===a||"]"===a||!!b&&">"===a};this.getComplement=function(a,b){"undefined"===typeof b&&(b=h);return b[a]};this.stripEnclosingQuotes=function(a){var b=a.length;if(2>b)return a;var c=a[0];return!("'"===c||
'"'===c||"`"===c)?a:a[b-1]!==c?a:a.substr(1,b-2)};this.startsWith=function(a,b){if("string"!==typeof a||"string"!==typeof b||a.length<b.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0}}).call(k)});define("mode/xml",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/mode/text").Mode,b=a("ace/tokenizer").Tokenizer,g=a("mode/xml_highlight_rules").XmlHighlightRules,h=a("mode/xml_behavior").XmlBehaviour,f=a("mode/xml_fold_mode").FoldMode,e=function(){this.$tokenizer=new b((new g).getRules());this.$behaviour=new h;this.foldingRules=new f};i.inherits(e,j);(function(){this.getNextLineIndent=function(a,b){return this.$getIndent(b)}}).call(e.prototype);k.Mode=e});define("mode/xml_behavior",["require","exports","module"],function(a,k){function i(a,b){var f=!0,d=a.type.split(".");b.split(".").forEach(function(a){if(-1==d.indexOf(a))return f=!1});return f}var j=a("ace/lib/oop"),b=a("ace/mode/behaviour").Behaviour,g=a("ace/mode/behaviour/cstyle").CstyleBehaviour,h=a("ace/token_iterator").TokenIterator,f=function(){this.inherit(g,["string_dquotes"]);this.add("autoclosing","insertion",function(a,b,f,d,g){if(">"==g){a=f.getCursorPosition();f=new h(d,a.row,a.column);
d=f.getCurrentToken();b=!1;if(!d||!i(d,"meta.tag")&&(!i(d,"text")||!d.value.match("/"))){do d=f.stepBackward();while(d&&(i(d,"string")||i(d,"keyword.operator")||i(d,"entity.attribute-name")||i(d,"text")))}else b=!0;if(d&&i(d,"meta.tag-name")&&!f.stepBackward().value.match("/"))return f=d.value,b&&(f=f.substring(0,a.column-d.start)),{text:"></"+f+">",selection:[1,1]}}});this.add("autoindent","insertion",function(a,b,f,d,g){if("\n"==g&&(b=f.getCursorPosition(),"</"==d.doc.getLine(b.row).substring(b.column,
b.column+2)))return a=this.$getIndent(d.doc.getLine(b.row))+d.getTabString(),d=this.$getIndent(d.doc.getLine(b.row)),{text:"\n"+a+"\n"+d,selection:[1,a.length,1,a.length]}})};j.inherits(f,b);k.XmlBehaviour=f});define("mode/xml_fold_mode",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("ace/lib/lang"),b=a("ace/range").Range,g=a("ace/mode/folding/fold_mode").FoldMode,h=a("ace/token_iterator").TokenIterator,f=k.FoldMode=function(a){g.call(this);this.voidElements=a||{}};i.inherits(f,g);(function(){this.getFoldWidget=function(a,b,f){a=this._getFirstTagInLine(a,f);return a.closing?"markbeginend"==b?"end":"":!a.tagName||this.voidElements[a.tagName.toLowerCase()]||a.selfClosing||-1!==a.value.indexOf("/"+
a.tagName)?"":"start"};this._getFirstTagInLine=function(a,b){for(var f=a.getTokens(b),d="",g=0;g<f.length;g++)var h=f[g],d=0===h.type.indexOf("meta.tag")?d+h.value:d+j.stringRepeat(" ",h.value.length);return this._parseTag(d)};this.tagRe=/^(\s*)(<?(\/?)([-_a-zA-Z0-9:!]*)\s*(\/?)>?)/;this._parseTag=function(a){var b=this.tagRe.exec(a),f=this.tagRe.lastIndex||0;this.tagRe.lastIndex=0;return{value:a,match:b?b[2]:"",closing:b?!!b[3]:!1,selfClosing:b?!!b[5]||"/>"==b[2]:!1,tagName:b?b[4]:"",column:b[1]?
f+b[1].length:f}};this._readTagForward=function(a){var b=a.getCurrentToken();if(!b)return null;var f="",d;do if(0===b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()}),f+=b.value,-1!==f.indexOf(">")))return f=this._parseTag(f),f.start=d,f.end={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length},a.stepForward(),f;while(b=a.stepForward());return null};this._readTagBackward=function(a){var b=a.getCurrentToken();if(!b)return null;var f=
"",d;do if(0===b.type.indexOf("meta.tag")&&(d||(d={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()+b.value.length}),f=b.value+f,-1!==f.indexOf("<")))return b=this._parseTag(f),b.end=d,b.start={row:a.getCurrentTokenRow(),column:a.getCurrentTokenColumn()},a.stepBackward(),b;while(b=a.stepBackward());return null};this._pop=function(a,b){for(;a.length;){var f=a[a.length-1];if(!b||f.tagName==b.tagName)return a.pop();if(this.voidElements[b.tagName])break;else if(this.voidElements[f.tagName])a.pop();
else return null}};this.getFoldWidgetRange=function(a,c,f){var d=this._getFirstTagInLine(a,f);if(!d.match)return null;c=[];if(d.closing||d.selfClosing){a=new h(a,f,d.column+d.match.length);for(d={row:f,column:d.column};f=this._readTagBackward(a);){if(f.selfClosing)if(c.length)continue;else return f.start.column+=f.tagName.length+2,f.end.column-=2,b.fromPoints(f.start,f.end);if(f.closing)c.push(f);else if(this._pop(c,f),0==c.length)return f.start.column+=f.tagName.length+2,b.fromPoints(f.start,d)}}else{a=
new h(a,f,d.column);for(d={row:f,column:d.column+d.tagName.length+2};f=this._readTagForward(a);){if(f.selfClosing)if(c.length)continue;else return f.start.column+=f.tagName.length+2,f.end.column-=2,b.fromPoints(f.start,f.end);if(f.closing){if(this._pop(c,f),0==c.length)return b.fromPoints(d,f.start)}else c.push(f)}}}}).call(f.prototype)});define("mode/xml_highlight_rules",["require","exports","module"],function(a,k){var i=a("ace/lib/oop"),j=a("mode/xml_util"),b=a("ace/mode/text_highlight_rules").TextHighlightRules,g=function(){this.$rules={start:[{token:"text",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:"xml_pe",regex:"<\\?.*?\\?>"},{token:"comment",merge:!0,regex:"<\\!--",next:"comment"},{token:"xml_pe",regex:"<\\!.*?>"},{token:"meta.tag",regex:"<\\/?",next:"tag"},{token:"text",regex:"\\s+"},{token:"constant.character.entity",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},
{token:"text",regex:"[^<]+"}],cdata:[{token:"text",regex:"\\]\\]>",next:"start"},{token:"text",regex:"\\s+"},{token:"text",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment",regex:".*?--\>",next:"start"},{token:"comment",merge:!0,regex:".+"}]};j.tag(this.$rules,"tag","start")};i.inherits(g,b);k.XmlHighlightRules=g});define("mode/xml_util",["require","exports","module"],function(a,k){function i(a,b){return[{token:"string",merge:!0,regex:".*?"+a,next:b},{token:"string",merge:!0,regex:".+"}]}k.tag=function(a,b,g,h){a[b]=[{token:"text",regex:"\\s+"},{token:function(a){return h&&h[a]?"meta.tag.tag-name."+h[a]:"meta.tag.tag-name"},merge:!0,regex:"[-_a-zA-Z0-9:]+",next:b+"_embed_attribute_list"},{token:"empty",regex:"",next:b+"_embed_attribute_list"}];a[b+"_qstring"]=i("'",b+"_embed_attribute_list");a[b+"_qqstring"]=
i('"',b+"_embed_attribute_list");a[b+"_embed_attribute_list"]=[{token:"meta.tag",merge:!0,regex:"/?>",next:g},{token:"keyword.operator",regex:"="},{token:"entity.other.attribute-name",regex:"[-_a-zA-Z0-9:]+"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"\\s+"}].concat([{token:"string",regex:'".*?"'},{token:"string",merge:!0,regex:'["].*',next:b+"_qqstring"},{token:"string",regex:"'.*?'"},{token:"string",merge:!0,regex:"['].*",next:b+"_qstring"}])}});define("theme/default",["require","exports","module"],function(a,k){a("ace/lib/dom");k.cssClass="ace-rs"});if(!String.prototype.trimRight){var trimEndRegexp=/\s\s*$/;String.prototype.trimRight=function(){return(""+this).replace(trimEndRegexp,"")}}
define("rstudio/loader",["require","exports","module"],function(a,k){var i=a("ace/lib/oop");a("ace/lib/event");a("ace/lib/event_emitter");var j=a("ace/editor").Editor,b=a("ace/edit_session").EditSession,g=a("ace/undomanager").UndoManager,h=a("ace/range").Range,f=a("mode/utils");a("util/expand_selection");a("mixins/token_iterator");var e=function(a,b){j.call(this,a,b);this.setBehavioursEnabled(!0)};i.inherits(e,j);(function(){this.insert=function(a,b){if(!this.session.selection.isEmpty()){var c=[];
"quotes"===this.$surroundSelection?c=["'",'"']:"quotes_and_brackets"===this.$surroundSelection&&(c=["'",'"',"(","{","["]);if(f.contains(c,a))return c=f.getComplement(a),this.session.replace(this.session.selection.getRange(),a+this.session.getTextRange()+c)}return j.prototype.insert.call(this,a,b)};this.remove=function(a){return this.session.getMode().wrapRemove?this.session.getMode().wrapRemove(this,j.prototype.remove,a):j.prototype.remove.call(this,a)};this.undo=function(){j.prototype.undo.call(this);
this._dispatchEvent("undo")};this.redo=function(){j.prototype.redo.call(this);this._dispatchEvent("redo")}}).call(e.prototype);var c=function(a,c){b.call(this,a,c)};i.inherits(c,b);(function(){this.insert=function(a,c){return this.getMode().wrapInsert?this.getMode().wrapInsert(this,b.prototype.insert,a,c):b.prototype.insert.call(this,a,c)};this.reindent=function(a){var b=this.getMode();if(b.getNextLineIndent){var c=a.start.row,a=a.end.row;0===c&&(this.applyIndent(0,""),c++);for(var e=c;e<=a;e++){var g=
f.getPrimaryState(this,e-1);if(!f.endsWith(g,"qstring")){var h=b.getNextLineIndent(g,this.getLine(e-1),this.getTabString(),e-1,!0);this.applyIndent(e,h);b.autoOutdent(g,this,e)}}b=b.codeModel;"undefined"!==typeof b&&(b=b.alignContinuationSlashes,"undefined"!==typeof b&&b(this.getDocument(),{start:c,end:a}))}};this.applyIndent=function(a,b){var c=this.getLine(a).match(/^\s*/g)[0].length;this.replace(new h(a,0,a,c),b)};this.setDisableOverwrite=function(a){a?(this.setOverwrite(!1),this.setOverwrite=
function(){},this.getOverwrite=function(){return!1}):(this.setOverwrite=b.prototype.setOverwrite,this.getOverwrite=b.prototype.getOverwrite)}}).call(c.prototype);var m=function(){g.call(this)};i.inherits(m,g);(function(){this.peek=function(){return this.$undoStack.length?this.$undoStack[this.$undoStack.length-1]:null}}).call(m.prototype);k.loadEditor=function(b){var f;function g(a){f.commands.removeCommand(a)}f=void 0;var h=a("ace/virtual_renderer").VirtualRenderer,i=a("ace/mode/text").Mode;f=new e(new h(b,
{}),new c(""));b=f.getSession();b.setMode(new i);b.setUndoManager(new m);i=a("ace/config");i.set("workerPath","js/workers");i.setDefaultValue("session","useWorker",!1);g("findnext");g("findprevious");g("find");g("replace");g("togglecomment");g("gotoline");g("foldall");g("unfoldall");g("touppercase");g("tolowercase");return f}});define("rstudio/snippets",["require","exports","module"],function(a,k){k.toSnippetText=function(a){for(var j=a.length,b="",g=0;g<j;g++)var h=a[g],b=b+("snippet "+h.name+"\n\t"+h.content.replace(/\n/g,"\n\t")+"\n\n");return b};k.normalizeSnippets=function(a){for(var j=a.length,b=0;b<j;b++){var g=a[b];null==g.tabTrigger&&(g.tabTrigger=g.name);g.content=g.content.replace("\n    ","\n\t")}}});define("rstudio/snippets/c_cpp",["require","exports","module"],function(a,k){var i=a("rstudio/snippets"),j=a("ace/snippets").snippetManager,b=[{name:"once",content:"#ifndef ${1:`HeaderGuardFileName`}\n#define ${1:`HeaderGuardFileName`}\n\n${0}\n\n#endif /* ${1:`HeaderGuardFileName`} */"},{name:"ans",content:"namespace {\n${0}\n} // anonymous namespace"},{name:"ns",content:"namespace ${1:ns} {\n${0}\n} // namespace ${1:ns}"},{name:"cls",content:"class ${1:ClassName} {\npublic:\n    ${2}\nprivate:\n    ${3}\n};"},
{name:"str",content:"struct ${1} {\n    ${0}\n};"},{name:"ept",content:"// [[Rcpp::export]]\n"}];i.normalizeSnippets(b);k.snippetText=i.toSnippetText(b);j.register(b,"c_cpp")});define("rstudio/snippets/markdown",["require","exports","module"],function(a,k){var i=a("rstudio/snippets"),j=a("ace/snippets").snippetManager,b=[{name:"[",content:"[${1:label}](${2:location})"},{name:"![",content:"![${1:label}](${2:location})"},{name:"r",content:"```{r ${1:label}, ${2:options}}\n${0}\n```"},{name:"rcpp",content:"```{r, engine='Rcpp'}\n#include <Rcpp.h>\nusing namespace Rcpp;\n\n${0}\n\n```"}];i.normalizeSnippets(b);k.snippetText=i.toSnippetText(b);j.register(b,"markdown")});define("rstudio/snippets/r",["require","exports","module"],function(a,k){var i=a("rstudio/snippets"),j=a("ace/snippets").snippetManager,b=[{name:"lib",content:"library(${1:package})"},{name:"req",content:"require(${1:package})"},{name:"src",content:'source("${1:file.R}")'},{name:"ret",content:"return(${1:code})"},{name:"mat",content:"matrix(${1:data}, nrow = ${2:rows}, ncol = ${3:cols})"},{name:"sg",content:'setGeneric("${1:generic}", function(${2:x, ...}) {\n    standardGeneric("${1:generic}")\n})'},
{name:"sm",content:'setMethod("${1:generic}", ${2:class}, function(${2:x, ...}) {\n    ${0}\n})'},{name:"sc",content:'setClass("${1:Class}", slots = c(${2:name = "type"}))'},{name:"if",content:"if (${1:condition}) {\n    ${0}\n}"},{name:"el",content:"else {\n    ${0}\n}"},{name:"ei",content:"else if (${1:condition}) {\n    ${0}\n}"},{name:"fun",content:"${1:name} <- function(${2:variables}) {\n    ${0}\n}"},{name:"for",content:"for (${1:variable} in ${2:vector}) {\n    ${0}\n}"},{name:"while",content:"while (${1:condition}) {\n    ${0}\n}"},
{name:"switch",content:"switch (${1:object},\n    ${2:case} = ${3:action}\n)"},{name:"apply",content:"apply(${1:array}, ${2:margin}, ${3:...})"},{name:"lapply",content:"lapply(${1:list}, ${2:function})"},{name:"sapply",content:"sapply(${1:list}, ${2:function})"},{name:"mapply",content:"mapply(${1:function}, ${2:...})"},{name:"tapply",content:"tapply(${1:vector}, ${2:index}, ${3:function})"},{name:"vapply",content:"vapply(${1:list}, ${2:function}, FUN.VALUE = ${3:type}, ${4:...})"},{name:"rapply",
content:"rapply(${1:list}, ${2:function})"},{name:"ts",content:'`r paste("#", date(), "------------------------------\\n")`'}];i.normalizeSnippets(b);k.snippetText=i.toSnippetText(b);j.register(b,"r")});define("rstudio/snippets/stan",["require","exports","module"],function(a,k){var i=a("rstudio/snippets"),j=a("ace/snippets").snippetManager,b=[{name:"for",content:"for (${1:var} in ${2:start}:${3:end}) {\n  ${0}\n}"},{name:"if",content:"if (${1:condition}) {\n  ${0}\n}"},{name:"el",content:"else (${1:condition}) {\n  ${0}\n}"},{name:"ei",content:"else if (${1:condition}) {\n  ${0}\n}"},{name:"<l",content:"<lower = ${1:expression}>${0}"},{name:"<u",content:"<upper = ${1:expression}>${0}"},{name:"<lu",
content:"<lower = ${1:expression}, upper = ${2:expression}>${0}"},{name:"while",content:"while (${1:condition}) {\n  ${0}\n}"},{name:"gen",content:"generated quantities {\n  ${0}\n}"},{name:"mdl",content:"model {\n  ${0}\n}"},{name:"par",content:"parameters {\n  ${0}\n}"},{name:"tpar",content:"transformed parameters {\n  ${0}\n}"},{name:"data",content:"data {\n  ${0}\n}"},{name:"tdata",content:"transformed data {\n  ${0}\n}"},{name:"ode",content:"integrate_ode(${1:function}, ${2:y0}, ${3:t0}, ${4:t}, ${5:theta}, ${6:x_r}, ${7:x_i});"},
{name:"funs",content:"functions {\n  ${0}\n}"},{name:"fun",content:"${1:return} ${2:name} (${3:args}) {\n  ${0}\n}"}];i.normalizeSnippets(b);k.snippetText=i.toSnippetText(b);j.register(b,"stan");j.files["mode/stan"]=!0});